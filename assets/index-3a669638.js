var _a=Object.defineProperty;var Ra=(t,e,n)=>e in t?_a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var w=(t,e,n)=>(Ra(t,typeof e!="symbol"?e+"":e,n),n);import{E as Ia,V as D,M as qe,T as Ze,Q as Zt,S as Zi,a as Q,P as Ts,O as Es,b as fn,W as Ji,s as rt,c as ge,d as Qe,e as Ms,f as ve,g as ct,h as Je,i as Oa,D as pt,N as Da,A as jt,j as Va,k as ka,C as ae,l as Fa,m as Na,n as ja,o as Ua,L as za,p as Be,F as Cs,q as Ha,r as Ba,t as Ga,u as at,v as $a,I as Ka,w as Ls,x as Wa,B as Qi,y as Ps,z as _s,R as Bn,G as Ya,H as Mn,J as Xa,K as hi,U as qa,X as Za,Y as Ja,Z as Qa,_ as el,$ as tl,a0 as nl,a1 as Cn,a2 as il,a3 as Rs,a4 as rl,a5 as sl,a6 as ol,a7 as Is,a8 as al,a9 as ll,aa as cl,ab as ul,ac as dl,ad as fl,ae as hl,af as pl,ag as ml,ah as er,ai as gl,aj as vl,ak as tr,al as yl,am as bl,an as xl,ao as wl,ap as Sl,aq as Al,ar as Ln}from"./three-00dee5df.js";import{e as _e}from"./animation-aebc9fd2.js";import{g as Os,c as Tl,r as S,R as pi,a as Ds}from"./react-a9865723.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
 * lil-gui
 * https://lil-gui.georgealways.com
 * @version 0.16.1
 * @author George Michael Brower
 * @license MIT
 */class ye{constructor(e,n,i,r,s="div"){this.parent=e,this.object=n,this.property=i,this._disabled=!1,this.initialValue=this.getValue(),this.domElement=document.createElement("div"),this.domElement.classList.add("controller"),this.domElement.classList.add(r),this.$name=document.createElement("div"),this.$name.classList.add("name"),ye.nextNameID=ye.nextNameID||0,this.$name.id=`lil-gui-name-${++ye.nextNameID}`,this.$widget=document.createElement(s),this.$widget.classList.add("widget"),this.$disable=this.$widget,this.domElement.appendChild(this.$name),this.domElement.appendChild(this.$widget),this.parent.children.push(this),this.parent.controllers.push(this),this.parent.$children.appendChild(this.domElement),this._listenCallback=this._listenCallback.bind(this),this.name(i)}name(e){return this._name=e,this.$name.innerHTML=e,this}onChange(e){return this._onChange=e,this}_callOnChange(){this.parent._callOnChange(this),this._onChange!==void 0&&this._onChange.call(this,this.getValue()),this._changed=!0}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(){this._changed&&(this.parent._callOnFinishChange(this),this._onFinishChange!==void 0&&this._onFinishChange.call(this,this.getValue())),this._changed=!1}reset(){return this.setValue(this.initialValue),this._callOnFinishChange(),this}enable(e=!0){return this.disable(!e)}disable(e=!0){return e===this._disabled?this:(this._disabled=e,this.domElement.classList.toggle("disabled",e),this.$disable.toggleAttribute("disabled",e),this)}options(e){const n=this.parent.add(this.object,this.property,e);return n.name(this._name),this.destroy(),n}min(e){return this}max(e){return this}step(e){return this}listen(e=!0){return this._listening=e,this._listenCallbackID!==void 0&&(cancelAnimationFrame(this._listenCallbackID),this._listenCallbackID=void 0),this._listening&&this._listenCallback(),this}_listenCallback(){this._listenCallbackID=requestAnimationFrame(this._listenCallback);const e=this.save();e!==this._listenPrevValue&&this.updateDisplay(),this._listenPrevValue=e}getValue(){return this.object[this.property]}setValue(e){return this.object[this.property]=e,this._callOnChange(),this.updateDisplay(),this}updateDisplay(){return this}load(e){return this.setValue(e),this._callOnFinishChange(),this}save(){return this.getValue()}destroy(){this.listen(!1),this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.controllers.splice(this.parent.controllers.indexOf(this),1),this.parent.$children.removeChild(this.domElement)}}class El extends ye{constructor(e,n,i){super(e,n,i,"boolean","label"),this.$input=document.createElement("input"),this.$input.setAttribute("type","checkbox"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$input.addEventListener("change",()=>{this.setValue(this.$input.checked),this._callOnFinishChange()}),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.checked=this.getValue(),this}}function Gn(t){let e,n;return(e=t.match(/(#|0x)?([a-f0-9]{6})/i))?n=e[2]:(e=t.match(/rgb\(\s*(\d*)\s*,\s*(\d*)\s*,\s*(\d*)\s*\)/))?n=parseInt(e[1]).toString(16).padStart(2,0)+parseInt(e[2]).toString(16).padStart(2,0)+parseInt(e[3]).toString(16).padStart(2,0):(e=t.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i))&&(n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),n?"#"+n:!1}const Ml={isPrimitive:!0,match:t=>typeof t=="string",fromHexString:Gn,toHexString:Gn},At={isPrimitive:!0,match:t=>typeof t=="number",fromHexString:t=>parseInt(t.substring(1),16),toHexString:t=>"#"+t.toString(16).padStart(6,0)},Cl={isPrimitive:!1,match:Array.isArray,fromHexString(t,e,n=1){const i=At.fromHexString(t);e[0]=(i>>16&255)/255*n,e[1]=(i>>8&255)/255*n,e[2]=(i&255)/255*n},toHexString([t,e,n],i=1){i=255/i;const r=t*i<<16^e*i<<8^n*i<<0;return At.toHexString(r)}},Ll={isPrimitive:!1,match:t=>Object(t)===t,fromHexString(t,e,n=1){const i=At.fromHexString(t);e.r=(i>>16&255)/255*n,e.g=(i>>8&255)/255*n,e.b=(i&255)/255*n},toHexString({r:t,g:e,b:n},i=1){i=255/i;const r=t*i<<16^e*i<<8^n*i<<0;return At.toHexString(r)}},Pl=[Ml,At,Cl,Ll];function _l(t){return Pl.find(e=>e.match(t))}class Rl extends ye{constructor(e,n,i,r){super(e,n,i,"color"),this.$input=document.createElement("input"),this.$input.setAttribute("type","color"),this.$input.setAttribute("tabindex",-1),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$text=document.createElement("input"),this.$text.setAttribute("type","text"),this.$text.setAttribute("spellcheck","false"),this.$text.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this.$display.appendChild(this.$input),this.$widget.appendChild(this.$display),this.$widget.appendChild(this.$text),this._format=_l(this.initialValue),this._rgbScale=r,this._initialValueHexString=this.save(),this._textFocused=!1,this.$input.addEventListener("input",()=>{this._setValueFromHexString(this.$input.value)}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$text.addEventListener("input",()=>{const s=Gn(this.$text.value);s&&this._setValueFromHexString(s)}),this.$text.addEventListener("focus",()=>{this._textFocused=!0,this.$text.select()}),this.$text.addEventListener("blur",()=>{this._textFocused=!1,this.updateDisplay(),this._callOnFinishChange()}),this.$disable=this.$text,this.updateDisplay()}reset(){return this._setValueFromHexString(this._initialValueHexString),this}_setValueFromHexString(e){if(this._format.isPrimitive){const n=this._format.fromHexString(e);this.setValue(n)}else this._format.fromHexString(e,this.getValue(),this._rgbScale),this._callOnChange(),this.updateDisplay()}save(){return this._format.toHexString(this.getValue(),this._rgbScale)}load(e){return this._setValueFromHexString(e),this._callOnFinishChange(),this}updateDisplay(){return this.$input.value=this._format.toHexString(this.getValue(),this._rgbScale),this._textFocused||(this.$text.value=this.$input.value.substring(1)),this.$display.style.backgroundColor=this.$input.value,this}}class Pn extends ye{constructor(e,n,i){super(e,n,i,"function"),this.$button=document.createElement("button"),this.$button.appendChild(this.$name),this.$widget.appendChild(this.$button),this.$button.addEventListener("click",r=>{r.preventDefault(),this.getValue().call(this.object)}),this.$button.addEventListener("touchstart",()=>{},{passive:!0}),this.$disable=this.$button}}class Il extends ye{constructor(e,n,i,r,s,o){super(e,n,i,"number"),this._initInput(),this.min(r),this.max(s);const a=o!==void 0;this.step(a?o:this._getImplicitStep(),a),this.updateDisplay()}min(e){return this._min=e,this._onUpdateMinMax(),this}max(e){return this._max=e,this._onUpdateMinMax(),this}step(e,n=!0){return this._step=e,this._stepExplicit=n,this}updateDisplay(){const e=this.getValue();if(this._hasSlider){let n=(e-this._min)/(this._max-this._min);n=Math.max(0,Math.min(n,1)),this.$fill.style.width=n*100+"%"}return this._inputFocused||(this.$input.value=e),this}_initInput(){this.$input=document.createElement("input"),this.$input.setAttribute("type","number"),this.$input.setAttribute("step","any"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$widget.appendChild(this.$input),this.$disable=this.$input;const e=()=>{const g=parseFloat(this.$input.value);isNaN(g)||this.setValue(this._clamp(g))},n=g=>{const x=parseFloat(this.$input.value);isNaN(x)||(this._snapClampSetValue(x+g),this.$input.value=this.getValue())},i=g=>{g.code==="Enter"&&this.$input.blur(),g.code==="ArrowUp"&&(g.preventDefault(),n(this._step*this._arrowKeyMultiplier(g))),g.code==="ArrowDown"&&(g.preventDefault(),n(this._step*this._arrowKeyMultiplier(g)*-1))},r=g=>{this._inputFocused&&(g.preventDefault(),n(this._step*this._normalizeMouseWheel(g)))};let s=!1,o,a,l,c,u;const d=5,f=g=>{o=g.clientX,a=l=g.clientY,s=!0,c=this.getValue(),u=0,window.addEventListener("mousemove",h),window.addEventListener("mouseup",p)},h=g=>{if(s){const x=g.clientX-o,y=g.clientY-a;Math.abs(y)>d?(g.preventDefault(),this.$input.blur(),s=!1,this._setDraggingStyle(!0,"vertical")):Math.abs(x)>d&&p()}if(!s){const x=g.clientY-l;u-=x*this._step*this._arrowKeyMultiplier(g),c+u>this._max?u=this._max-c:c+u<this._min&&(u=this._min-c),this._snapClampSetValue(c+u)}l=g.clientY},p=()=>{this._setDraggingStyle(!1,"vertical"),this._callOnFinishChange(),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p)},m=()=>{this._inputFocused=!0},v=()=>{this._inputFocused=!1,this.updateDisplay(),this._callOnFinishChange()};this.$input.addEventListener("input",e),this.$input.addEventListener("keydown",i),this.$input.addEventListener("wheel",r,{passive:!1}),this.$input.addEventListener("mousedown",f),this.$input.addEventListener("focus",m),this.$input.addEventListener("blur",v)}_initSlider(){this._hasSlider=!0,this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.$fill=document.createElement("div"),this.$fill.classList.add("fill"),this.$slider.appendChild(this.$fill),this.$widget.insertBefore(this.$slider,this.$input),this.domElement.classList.add("hasSlider");const e=(g,x,y,T,A)=>(g-x)/(y-x)*(A-T)+T,n=g=>{const x=this.$slider.getBoundingClientRect();let y=e(g,x.left,x.right,this._min,this._max);this._snapClampSetValue(y)},i=g=>{this._setDraggingStyle(!0),n(g.clientX),window.addEventListener("mousemove",r),window.addEventListener("mouseup",s)},r=g=>{n(g.clientX)},s=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",s)};let o=!1,a,l;const c=g=>{g.preventDefault(),this._setDraggingStyle(!0),n(g.touches[0].clientX),o=!1},u=g=>{g.touches.length>1||(this._hasScrollBar?(a=g.touches[0].clientX,l=g.touches[0].clientY,o=!0):c(g),window.addEventListener("touchmove",d),window.addEventListener("touchend",f))},d=g=>{if(o){const x=g.touches[0].clientX-a,y=g.touches[0].clientY-l;Math.abs(x)>Math.abs(y)?c(g):(window.removeEventListener("touchmove",d),window.removeEventListener("touchend",f))}else g.preventDefault(),n(g.touches[0].clientX)},f=()=>{this._callOnFinishChange(),this._setDraggingStyle(!1),window.removeEventListener("touchmove",d),window.removeEventListener("touchend",f)},h=this._callOnFinishChange.bind(this),p=400;let m;const v=g=>{if(Math.abs(g.deltaX)<Math.abs(g.deltaY)&&this._hasScrollBar)return;g.preventDefault();const y=this._normalizeMouseWheel(g)*this._step;this._snapClampSetValue(this.getValue()+y),this.$input.value=this.getValue(),clearTimeout(m),m=setTimeout(h,p)};this.$slider.addEventListener("mousedown",i),this.$slider.addEventListener("touchstart",u,{passive:!1}),this.$slider.addEventListener("wheel",v,{passive:!1})}_setDraggingStyle(e,n="horizontal"){this.$slider&&this.$slider.classList.toggle("active",e),document.body.classList.toggle("lil-gui-dragging",e),document.body.classList.toggle(`lil-gui-${n}`,e)}_getImplicitStep(){return this._hasMin&&this._hasMax?(this._max-this._min)/1e3:.1}_onUpdateMinMax(){!this._hasSlider&&this._hasMin&&this._hasMax&&(this._stepExplicit||this.step(this._getImplicitStep(),!1),this._initSlider(),this.updateDisplay())}_normalizeMouseWheel(e){let{deltaX:n,deltaY:i}=e;return Math.floor(e.deltaY)!==e.deltaY&&e.wheelDelta&&(n=0,i=-e.wheelDelta/120,i*=this._stepExplicit?1:10),n+-i}_arrowKeyMultiplier(e){let n=this._stepExplicit?1:10;return e.shiftKey?n*=10:e.altKey&&(n/=10),n}_snap(e){const n=Math.round(e/this._step)*this._step;return parseFloat(n.toPrecision(15))}_clamp(e){return e<this._min&&(e=this._min),e>this._max&&(e=this._max),e}_snapClampSetValue(e){this.setValue(this._clamp(this._snap(e)))}get _hasScrollBar(){const e=this.parent.root.$children;return e.scrollHeight>e.clientHeight}get _hasMin(){return this._min!==void 0}get _hasMax(){return this._max!==void 0}}class Ol extends ye{constructor(e,n,i,r){super(e,n,i,"option"),this.$select=document.createElement("select"),this.$select.setAttribute("aria-labelledby",this.$name.id),this.$display=document.createElement("div"),this.$display.classList.add("display"),this._values=Array.isArray(r)?r:Object.values(r),this._names=Array.isArray(r)?r:Object.keys(r),this._names.forEach(s=>{const o=document.createElement("option");o.innerHTML=s,this.$select.appendChild(o)}),this.$select.addEventListener("change",()=>{this.setValue(this._values[this.$select.selectedIndex]),this._callOnFinishChange()}),this.$select.addEventListener("focus",()=>{this.$display.classList.add("focus")}),this.$select.addEventListener("blur",()=>{this.$display.classList.remove("focus")}),this.$widget.appendChild(this.$select),this.$widget.appendChild(this.$display),this.$disable=this.$select,this.updateDisplay()}updateDisplay(){const e=this.getValue(),n=this._values.indexOf(e);return this.$select.selectedIndex=n,this.$display.innerHTML=n===-1?e:this._names[n],this}}class Dl extends ye{constructor(e,n,i){super(e,n,i,"string"),this.$input=document.createElement("input"),this.$input.setAttribute("type","text"),this.$input.setAttribute("aria-labelledby",this.$name.id),this.$input.addEventListener("input",()=>{this.setValue(this.$input.value)}),this.$input.addEventListener("keydown",r=>{r.code==="Enter"&&this.$input.blur()}),this.$input.addEventListener("blur",()=>{this._callOnFinishChange()}),this.$widget.appendChild(this.$input),this.$disable=this.$input,this.updateDisplay()}updateDisplay(){return this.$input.value=this.getValue(),this}}const Vl=`.lil-gui {
  font-family: var(--font-family);
  font-size: var(--font-size);
  line-height: 1;
  font-weight: normal;
  font-style: normal;
  text-align: left;
  background-color: var(--background-color);
  color: var(--text-color);
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  --background-color: #1f1f1f;
  --text-color: #ebebeb;
  --title-background-color: #111111;
  --title-text-color: #ebebeb;
  --widget-color: #424242;
  --hover-color: #4f4f4f;
  --focus-color: #595959;
  --number-color: #2cc9ff;
  --string-color: #a2db3c;
  --font-size: 11px;
  --input-font-size: 11px;
  --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  --font-family-mono: Menlo, Monaco, Consolas, "Droid Sans Mono", monospace;
  --padding: 4px;
  --spacing: 4px;
  --widget-height: 20px;
  --name-width: 45%;
  --slider-knob-width: 2px;
  --slider-input-width: 27%;
  --color-input-width: 27%;
  --slider-input-min-width: 45px;
  --color-input-min-width: 45px;
  --folder-indent: 7px;
  --widget-padding: 0 0 0 3px;
  --widget-border-radius: 2px;
  --checkbox-size: calc(0.75 * var(--widget-height));
  --scrollbar-width: 5px;
}
.lil-gui, .lil-gui * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
.lil-gui.root {
  width: var(--width, 245px);
  display: flex;
  flex-direction: column;
}
.lil-gui.root > .title {
  background: var(--title-background-color);
  color: var(--title-text-color);
}
.lil-gui.root > .children {
  overflow-x: hidden;
  overflow-y: auto;
}
.lil-gui.root > .children::-webkit-scrollbar {
  width: var(--scrollbar-width);
  height: var(--scrollbar-width);
  background: var(--background-color);
}
.lil-gui.root > .children::-webkit-scrollbar-thumb {
  border-radius: var(--scrollbar-width);
  background: var(--focus-color);
}
@media (pointer: coarse) {
  .lil-gui.allow-touch-styles {
    --widget-height: 28px;
    --padding: 6px;
    --spacing: 6px;
    --font-size: 13px;
    --input-font-size: 16px;
    --folder-indent: 10px;
    --scrollbar-width: 7px;
    --slider-input-min-width: 50px;
    --color-input-min-width: 65px;
  }
}
.lil-gui.force-touch-styles {
  --widget-height: 28px;
  --padding: 6px;
  --spacing: 6px;
  --font-size: 13px;
  --input-font-size: 16px;
  --folder-indent: 10px;
  --scrollbar-width: 7px;
  --slider-input-min-width: 50px;
  --color-input-min-width: 65px;
}
.lil-gui.autoPlace {
  max-height: 100%;
  position: fixed;
  top: 0;
  right: 15px;
  z-index: 1001;
}

.lil-gui .controller {
  display: flex;
  align-items: center;
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
}
.lil-gui .controller.disabled {
  opacity: 0.5;
}
.lil-gui .controller.disabled, .lil-gui .controller.disabled * {
  pointer-events: none !important;
}
.lil-gui .controller > .name {
  min-width: var(--name-width);
  flex-shrink: 0;
  white-space: pre;
  padding-right: var(--spacing);
  line-height: var(--widget-height);
}
.lil-gui .controller .widget {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  min-height: var(--widget-height);
}
.lil-gui .controller.string input {
  color: var(--string-color);
}
.lil-gui .controller.boolean .widget {
  cursor: pointer;
}
.lil-gui .controller.color .display {
  width: 100%;
  height: var(--widget-height);
  border-radius: var(--widget-border-radius);
  position: relative;
}
@media (hover: hover) {
  .lil-gui .controller.color .display:hover:before {
    content: " ";
    display: block;
    position: absolute;
    border-radius: var(--widget-border-radius);
    border: 1px solid #fff9;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
.lil-gui .controller.color input[type=color] {
  opacity: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}
.lil-gui .controller.color input[type=text] {
  margin-left: var(--spacing);
  font-family: var(--font-family-mono);
  min-width: var(--color-input-min-width);
  width: var(--color-input-width);
  flex-shrink: 0;
}
.lil-gui .controller.option select {
  opacity: 0;
  position: absolute;
  width: 100%;
  max-width: 100%;
}
.lil-gui .controller.option .display {
  position: relative;
  pointer-events: none;
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  line-height: var(--widget-height);
  max-width: 100%;
  overflow: hidden;
  word-break: break-all;
  padding-left: 0.55em;
  padding-right: 1.75em;
  background: var(--widget-color);
}
@media (hover: hover) {
  .lil-gui .controller.option .display.focus {
    background: var(--focus-color);
  }
}
.lil-gui .controller.option .display.active {
  background: var(--focus-color);
}
.lil-gui .controller.option .display:after {
  font-family: "lil-gui";
  content: "↕";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  padding-right: 0.375em;
}
.lil-gui .controller.option .widget,
.lil-gui .controller.option select {
  cursor: pointer;
}
@media (hover: hover) {
  .lil-gui .controller.option .widget:hover .display {
    background: var(--hover-color);
  }
}
.lil-gui .controller.number input {
  color: var(--number-color);
}
.lil-gui .controller.number.hasSlider input {
  margin-left: var(--spacing);
  width: var(--slider-input-width);
  min-width: var(--slider-input-min-width);
  flex-shrink: 0;
}
.lil-gui .controller.number .slider {
  width: 100%;
  height: var(--widget-height);
  background-color: var(--widget-color);
  border-radius: var(--widget-border-radius);
  padding-right: var(--slider-knob-width);
  overflow: hidden;
  cursor: ew-resize;
  touch-action: pan-y;
}
@media (hover: hover) {
  .lil-gui .controller.number .slider:hover {
    background-color: var(--hover-color);
  }
}
.lil-gui .controller.number .slider.active {
  background-color: var(--focus-color);
}
.lil-gui .controller.number .slider.active .fill {
  opacity: 0.95;
}
.lil-gui .controller.number .fill {
  height: 100%;
  border-right: var(--slider-knob-width) solid var(--number-color);
  box-sizing: content-box;
}

.lil-gui-dragging .lil-gui {
  --hover-color: var(--widget-color);
}
.lil-gui-dragging * {
  cursor: ew-resize !important;
}

.lil-gui-dragging.lil-gui-vertical * {
  cursor: ns-resize !important;
}

.lil-gui .title {
  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);
  height: var(--title-height);
  line-height: calc(var(--title-height) - 4px);
  font-weight: 600;
  padding: 0 var(--padding);
  -webkit-tap-highlight-color: transparent;
  cursor: pointer;
  outline: none;
  text-decoration-skip: objects;
}
.lil-gui .title:before {
  font-family: "lil-gui";
  content: "▾";
  padding-right: 2px;
  display: inline-block;
}
.lil-gui .title:active {
  background: var(--title-background-color);
  opacity: 0.75;
}
@media (hover: hover) {
  body:not(.lil-gui-dragging) .lil-gui .title:hover {
    background: var(--title-background-color);
    opacity: 0.85;
  }
  .lil-gui .title:focus {
    text-decoration: underline var(--focus-color);
  }
}
.lil-gui.root > .title:focus {
  text-decoration: none !important;
}
.lil-gui.closed > .title:before {
  content: "▸";
}
.lil-gui.closed > .children {
  transform: translateY(-7px);
  opacity: 0;
}
.lil-gui.closed:not(.transition) > .children {
  display: none;
}
.lil-gui.transition > .children {
  transition-duration: 300ms;
  transition-property: height, opacity, transform;
  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);
  overflow: hidden;
  pointer-events: none;
}
.lil-gui .children:empty:before {
  content: "Empty";
  padding: 0 var(--padding);
  margin: var(--spacing) 0;
  display: block;
  height: var(--widget-height);
  font-style: italic;
  line-height: var(--widget-height);
  opacity: 0.5;
}
.lil-gui.root > .children > .lil-gui > .title {
  border: 0 solid var(--widget-color);
  border-width: 1px 0;
  transition: border-color 300ms;
}
.lil-gui.root > .children > .lil-gui.closed > .title {
  border-bottom-color: transparent;
}
.lil-gui + .controller {
  border-top: 1px solid var(--widget-color);
  margin-top: 0;
  padding-top: var(--spacing);
}
.lil-gui .lil-gui .lil-gui > .title {
  border: none;
}
.lil-gui .lil-gui .lil-gui > .children {
  border: none;
  margin-left: var(--folder-indent);
  border-left: 2px solid var(--widget-color);
}
.lil-gui .lil-gui .controller {
  border: none;
}

.lil-gui input {
  -webkit-tap-highlight-color: transparent;
  border: 0;
  outline: none;
  font-family: var(--font-family);
  font-size: var(--input-font-size);
  border-radius: var(--widget-border-radius);
  height: var(--widget-height);
  background: var(--widget-color);
  color: var(--text-color);
  width: 100%;
}
@media (hover: hover) {
  .lil-gui input:hover {
    background: var(--hover-color);
  }
  .lil-gui input:active {
    background: var(--focus-color);
  }
}
.lil-gui input:disabled {
  opacity: 1;
}
.lil-gui input[type=text],
.lil-gui input[type=number] {
  padding: var(--widget-padding);
}
.lil-gui input[type=text]:focus,
.lil-gui input[type=number]:focus {
  background: var(--focus-color);
}
.lil-gui input::-webkit-outer-spin-button,
.lil-gui input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.lil-gui input[type=number] {
  -moz-appearance: textfield;
}
.lil-gui input[type=checkbox] {
  appearance: none;
  -webkit-appearance: none;
  height: var(--checkbox-size);
  width: var(--checkbox-size);
  border-radius: var(--widget-border-radius);
  text-align: center;
  cursor: pointer;
}
.lil-gui input[type=checkbox]:checked:before {
  font-family: "lil-gui";
  content: "✓";
  font-size: var(--checkbox-size);
  line-height: var(--checkbox-size);
}
@media (hover: hover) {
  .lil-gui input[type=checkbox]:focus {
    box-shadow: inset 0 0 0 1px var(--focus-color);
  }
}
.lil-gui button {
  -webkit-tap-highlight-color: transparent;
  outline: none;
  cursor: pointer;
  font-family: var(--font-family);
  font-size: var(--font-size);
  color: var(--text-color);
  width: 100%;
  height: var(--widget-height);
  text-transform: none;
  background: var(--widget-color);
  border-radius: var(--widget-border-radius);
  border: 1px solid var(--widget-color);
  text-align: center;
  line-height: calc(var(--widget-height) - 4px);
}
@media (hover: hover) {
  .lil-gui button:hover {
    background: var(--hover-color);
    border-color: var(--hover-color);
  }
  .lil-gui button:focus {
    border-color: var(--focus-color);
  }
}
.lil-gui button:active {
  background: var(--focus-color);
}

@font-face {
  font-family: "lil-gui";
  src: url("data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==") format("woff");
}`;function kl(t){const e=document.createElement("style");e.innerHTML=t;const n=document.querySelector("head link[rel=stylesheet], head style");n?document.head.insertBefore(e,n):document.head.appendChild(e)}let nr=!1;class mi{constructor({parent:e,autoPlace:n=e===void 0,container:i,width:r,title:s="Controls",injectStyles:o=!0,touchStyles:a=!0}={}){if(this.parent=e,this.root=e?e.root:this,this.children=[],this.controllers=[],this.folders=[],this._closed=!1,this._hidden=!1,this.domElement=document.createElement("div"),this.domElement.classList.add("lil-gui"),this.$title=document.createElement("div"),this.$title.classList.add("title"),this.$title.setAttribute("role","button"),this.$title.setAttribute("aria-expanded",!0),this.$title.setAttribute("tabindex",0),this.$title.addEventListener("click",()=>this.openAnimated(this._closed)),this.$title.addEventListener("keydown",l=>{(l.code==="Enter"||l.code==="Space")&&(l.preventDefault(),this.$title.click())}),this.$title.addEventListener("touchstart",()=>{},{passive:!0}),this.$children=document.createElement("div"),this.$children.classList.add("children"),this.domElement.appendChild(this.$title),this.domElement.appendChild(this.$children),this.title(s),a&&this.domElement.classList.add("allow-touch-styles"),this.parent){this.parent.children.push(this),this.parent.folders.push(this),this.parent.$children.appendChild(this.domElement);return}this.domElement.classList.add("root"),!nr&&o&&(kl(Vl),nr=!0),i?i.appendChild(this.domElement):n&&(this.domElement.classList.add("autoPlace"),document.body.appendChild(this.domElement)),r&&this.domElement.style.setProperty("--width",r+"px"),this.domElement.addEventListener("keydown",l=>l.stopPropagation()),this.domElement.addEventListener("keyup",l=>l.stopPropagation())}add(e,n,i,r,s){if(Object(i)===i)return new Ol(this,e,n,i);const o=e[n];switch(typeof o){case"number":return new Il(this,e,n,i,r,s);case"boolean":return new El(this,e,n);case"string":return new Dl(this,e,n);case"function":return new Pn(this,e,n)}console.error(`gui.add failed
	property:`,n,`
	object:`,e,`
	value:`,o)}addColor(e,n,i=1){return new Rl(this,e,n,i)}addFolder(e){return new mi({parent:this,title:e})}load(e,n=!0){return e.controllers&&this.controllers.forEach(i=>{i instanceof Pn||i._name in e.controllers&&i.load(e.controllers[i._name])}),n&&e.folders&&this.folders.forEach(i=>{i._title in e.folders&&i.load(e.folders[i._title])}),this}save(e=!0){const n={controllers:{},folders:{}};return this.controllers.forEach(i=>{if(!(i instanceof Pn)){if(i._name in n.controllers)throw new Error(`Cannot save GUI with duplicate property "${i._name}"`);n.controllers[i._name]=i.save()}}),e&&this.folders.forEach(i=>{if(i._title in n.folders)throw new Error(`Cannot save GUI with duplicate folder "${i._title}"`);n.folders[i._title]=i.save()}),n}open(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),this.domElement.classList.toggle("closed",this._closed),this}close(){return this.open(!1)}show(e=!0){return this._hidden=!e,this.domElement.style.display=this._hidden?"none":"",this}hide(){return this.show(!1)}openAnimated(e=!0){return this._closed=!e,this.$title.setAttribute("aria-expanded",!this._closed),requestAnimationFrame(()=>{const n=this.$children.clientHeight;this.$children.style.height=n+"px",this.domElement.classList.add("transition");const i=s=>{s.target===this.$children&&(this.$children.style.height="",this.domElement.classList.remove("transition"),this.$children.removeEventListener("transitionend",i))};this.$children.addEventListener("transitionend",i);const r=e?this.$children.scrollHeight:0;this.domElement.classList.toggle("closed",!e),requestAnimationFrame(()=>{this.$children.style.height=r+"px"})}),this}title(e){return this._title=e,this.$title.innerHTML=e,this}reset(e=!0){return(e?this.controllersRecursive():this.controllers).forEach(i=>i.reset()),this}onChange(e){return this._onChange=e,this}_callOnChange(e){this.parent&&this.parent._callOnChange(e),this._onChange!==void 0&&this._onChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}onFinishChange(e){return this._onFinishChange=e,this}_callOnFinishChange(e){this.parent&&this.parent._callOnFinishChange(e),this._onFinishChange!==void 0&&this._onFinishChange.call(this,{object:e.object,property:e.property,value:e.getValue(),controller:e})}destroy(){this.parent&&(this.parent.children.splice(this.parent.children.indexOf(this),1),this.parent.folders.splice(this.parent.folders.indexOf(this),1)),this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),Array.from(this.children).forEach(e=>e.destroy())}controllersRecursive(){let e=Array.from(this.controllers);return this.folders.forEach(n=>{e=e.concat(n.controllersRecursive())}),e}foldersRecursive(){let e=Array.from(this.folders);return this.folders.forEach(n=>{e=e.concat(n.foldersRecursive())}),e}}class Fl{constructor(){w(this,"active");w(this,"ui");this.active=window.location.hash==="#debug",this.active&&(this.ui=new mi)}}class $e{constructor(){w(this,"callbacks");this.callbacks={},this.callbacks.base={}}on(e,n){return typeof e>"u"||e===""?(console.warn("wrong names"),!1):typeof n>"u"?(console.warn("wrong callback"),!1):(this.resolveNames(e).forEach(r=>{const s=this.resolveName(r);this.callbacks[s.namespace]instanceof Object||(this.callbacks[s.namespace]={}),this.callbacks[s.namespace][s.value]instanceof Array||(this.callbacks[s.namespace][s.value]=[]),this.callbacks[s.namespace][s.value].push(n)}),this)}off(e){return typeof e>"u"||e===""?(console.warn("wrong name"),!1):(this.resolveNames(e).forEach(i=>{const r=this.resolveName(i);if(r.namespace!=="base"&&r.value==="")delete this.callbacks[r.namespace];else if(r.namespace==="base")for(const s in this.callbacks)this.callbacks[s]instanceof Object&&this.callbacks[s][r.value]instanceof Array&&(delete this.callbacks[s][r.value],Object.keys(this.callbacks[s]).length===0&&delete this.callbacks[s]);else this.callbacks[r.namespace]instanceof Object&&this.callbacks[r.namespace][r.value]instanceof Array&&(delete this.callbacks[r.namespace][r.value],Object.keys(this.callbacks[r.namespace]).length===0&&delete this.callbacks[r.namespace])}),this)}trigger(e,n){if(typeof e>"u"||e==="")return console.warn("wrong name"),!1;const i=this;let r=null;const s=n instanceof Array?n:[];let o=this.resolveNames(e);const a=this.resolveName(o[0]);if(a.namespace==="base")for(const l in this.callbacks)this.callbacks[l]instanceof Object&&this.callbacks[l][a.value]instanceof Array&&this.callbacks[l][a.value].forEach(function(c){c.apply(i,s)});else if(this.callbacks[a.namespace]instanceof Object){if(a.value==="")return console.warn("wrong name"),this;this.callbacks[a.namespace][a.value].forEach(function(l){l.apply(i,s)})}return r}resolveNames(e){let n=e;return n=n.replace(/[^a-zA-Z0-9 ,/.]/g,""),n=n.replace(/[,/]+/g," "),n.split(" ")}resolveName(e){const n=e.split("."),i={original:e,value:n[0],namespace:"base"};return n.length>1&&n[1]!==""&&(i.namespace=n[1]),i}}class Nl extends $e{constructor(){super();w(this,"width");w(this,"height");w(this,"pixelRatio");this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=Math.min(window.devicePixelRatio,2),window.addEventListener("resize",()=>{this.width=window.innerWidth,this.height=window.innerHeight,this.pixelRatio=Math.min(window.devicePixelRatio,2),this.trigger("resize")})}}const ee={on(t,e){document.addEventListener(t,n=>e(n.detail))},dispatch(t,e){document.dispatchEvent(new CustomEvent(t,{detail:e}))},remove(t,e){document.removeEventListener(t,e)}};class Vs extends $e{constructor(){super();w(this,"start");w(this,"current");w(this,"elapsed");w(this,"delta");this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16,window.requestAnimationFrame(()=>{this.tick()}),ee.on("loadingScreenDone",()=>{this.start=Date.now()})}tick(){const n=Date.now();this.delta=n-this.current,this.current=n,this.elapsed=this.current-this.start,this.trigger("tick"),window.requestAnimationFrame(()=>{this.tick()})}}const ir={type:"change"},_n={type:"start"},rr={type:"end"};class jl extends Ia{constructor(e,n){super(),n===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new D,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:qe.ROTATE,MIDDLE:qe.DOLLY,RIGHT:qe.PAN},this.touches={ONE:Ze.ROTATE,TWO:Ze.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(b){b.addEventListener("keydown",Ki),this._domElementKeyEvents=b},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(ir),i.update(),s=r.NONE},this.update=function(){const b=new D,O=new Zt().setFromUnitVectors(e.up,new D(0,1,0)),J=O.clone().invert(),ne=new D,ce=new Zt,Xe=2*Math.PI;return function(){const qi=i.object.position;b.copy(qi).sub(i.target),b.applyQuaternion(O),a.setFromVector3(b),i.autoRotate&&s===r.NONE&&R(P()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let Se=i.minAzimuthAngle,Ae=i.maxAzimuthAngle;return isFinite(Se)&&isFinite(Ae)&&(Se<-Math.PI?Se+=Xe:Se>Math.PI&&(Se-=Xe),Ae<-Math.PI?Ae+=Xe:Ae>Math.PI&&(Ae-=Xe),Se<=Ae?a.theta=Math.max(Se,Math.min(Ae,a.theta)):a.theta=a.theta>(Se+Ae)/2?Math.max(Se,a.theta):Math.min(Ae,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),i.enableDamping===!0?i.target.addScaledVector(u,i.dampingFactor):i.target.add(u),b.setFromSpherical(a),b.applyQuaternion(J),qi.copy(i.target).add(b),i.object.lookAt(i.target),i.enableDamping===!0?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,u.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,d||ne.distanceToSquared(i.object.position)>o||8*(1-ce.dot(i.object.quaternion))>o?(i.dispatchEvent(ir),ne.copy(i.object.position),ce.copy(i.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Wi),i.domElement.removeEventListener("pointerdown",Bi),i.domElement.removeEventListener("pointercancel",Gi),i.domElement.removeEventListener("wheel",$i),i.domElement.removeEventListener("pointermove",An),i.domElement.removeEventListener("pointerup",Tn),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ki)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let s=r.NONE;const o=1e-6,a=new Zi,l=new Zi;let c=1;const u=new D;let d=!1;const f=new Q,h=new Q,p=new Q,m=new Q,v=new Q,g=new Q,x=new Q,y=new Q,T=new Q,A=[],L={};function P(){return 2*Math.PI/60/60*i.autoRotateSpeed}function V(){return Math.pow(.95,i.zoomSpeed)}function R(b){l.theta-=b}function j(b){l.phi-=b}const W=function(){const b=new D;return function(J,ne){b.setFromMatrixColumn(ne,0),b.multiplyScalar(-J),u.add(b)}}(),z=function(){const b=new D;return function(J,ne){i.screenSpacePanning===!0?b.setFromMatrixColumn(ne,1):(b.setFromMatrixColumn(ne,0),b.crossVectors(i.object.up,b)),b.multiplyScalar(J),u.add(b)}}(),N=function(){const b=new D;return function(J,ne){const ce=i.domElement;if(i.object.isPerspectiveCamera){const Xe=i.object.position;b.copy(Xe).sub(i.target);let Nt=b.length();Nt*=Math.tan(i.object.fov/2*Math.PI/180),W(2*J*Nt/ce.clientHeight,i.object.matrix),z(2*ne*Nt/ce.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(W(J*(i.object.right-i.object.left)/i.object.zoom/ce.clientWidth,i.object.matrix),z(ne*(i.object.top-i.object.bottom)/i.object.zoom/ce.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function K(b){i.object.isPerspectiveCamera?c/=b:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*b)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function G(b){i.object.isPerspectiveCamera?c*=b:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/b)),i.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function k(b){f.set(b.clientX,b.clientY)}function H(b){x.set(b.clientX,b.clientY)}function te(b){m.set(b.clientX,b.clientY)}function fe(b){h.set(b.clientX,b.clientY),p.subVectors(h,f).multiplyScalar(i.rotateSpeed);const O=i.domElement;R(2*Math.PI*p.x/O.clientHeight),j(2*Math.PI*p.y/O.clientHeight),f.copy(h),i.update()}function Pe(b){y.set(b.clientX,b.clientY),T.subVectors(y,x),T.y>0?K(V()):T.y<0&&G(V()),x.copy(y),i.update()}function he(b){v.set(b.clientX,b.clientY),g.subVectors(v,m).multiplyScalar(i.panSpeed),N(g.x,g.y),m.copy(v),i.update()}function ie(b){b.deltaY<0?G(V()):b.deltaY>0&&K(V()),i.update()}function U(b){let O=!1;switch(b.code){case i.keys.UP:N(0,i.keyPanSpeed),O=!0;break;case i.keys.BOTTOM:N(0,-i.keyPanSpeed),O=!0;break;case i.keys.LEFT:N(i.keyPanSpeed,0),O=!0;break;case i.keys.RIGHT:N(-i.keyPanSpeed,0),O=!0;break}O&&(b.preventDefault(),i.update())}function M(){if(A.length===1)f.set(A[0].pageX,A[0].pageY);else{const b=.5*(A[0].pageX+A[1].pageX),O=.5*(A[0].pageY+A[1].pageY);f.set(b,O)}}function _(){if(A.length===1)m.set(A[0].pageX,A[0].pageY);else{const b=.5*(A[0].pageX+A[1].pageX),O=.5*(A[0].pageY+A[1].pageY);m.set(b,O)}}function Z(){const b=A[0].pageX-A[1].pageX,O=A[0].pageY-A[1].pageY,J=Math.sqrt(b*b+O*O);x.set(0,J)}function Ne(){i.enableZoom&&Z(),i.enablePan&&_()}function We(){i.enableZoom&&Z(),i.enableRotate&&M()}function Ye(b){if(A.length==1)h.set(b.pageX,b.pageY);else{const J=En(b),ne=.5*(b.pageX+J.x),ce=.5*(b.pageY+J.y);h.set(ne,ce)}p.subVectors(h,f).multiplyScalar(i.rotateSpeed);const O=i.domElement;R(2*Math.PI*p.x/O.clientHeight),j(2*Math.PI*p.y/O.clientHeight),f.copy(h)}function zi(b){if(A.length===1)v.set(b.pageX,b.pageY);else{const O=En(b),J=.5*(b.pageX+O.x),ne=.5*(b.pageY+O.y);v.set(J,ne)}g.subVectors(v,m).multiplyScalar(i.panSpeed),N(g.x,g.y),m.copy(v)}function Hi(b){const O=En(b),J=b.pageX-O.x,ne=b.pageY-O.y,ce=Math.sqrt(J*J+ne*ne);y.set(0,ce),T.set(0,Math.pow(y.y/x.y,i.zoomSpeed)),K(T.y),x.copy(y)}function Aa(b){i.enableZoom&&Hi(b),i.enablePan&&zi(b)}function Ta(b){i.enableZoom&&Hi(b),i.enableRotate&&Ye(b)}function Bi(b){i.enabled!==!1&&(A.length===0&&(i.domElement.setPointerCapture(b.pointerId),i.domElement.addEventListener("pointermove",An),i.domElement.addEventListener("pointerup",Tn)),Pa(b),b.pointerType==="touch"?Ca(b):Ea(b))}function An(b){i.enabled!==!1&&(b.pointerType==="touch"?La(b):Ma(b))}function Tn(b){Yi(b),A.length===0&&(i.domElement.releasePointerCapture(b.pointerId),i.domElement.removeEventListener("pointermove",An),i.domElement.removeEventListener("pointerup",Tn)),i.dispatchEvent(rr),s=r.NONE}function Gi(b){Yi(b)}function Ea(b){let O;switch(b.button){case 0:O=i.mouseButtons.LEFT;break;case 1:O=i.mouseButtons.MIDDLE;break;case 2:O=i.mouseButtons.RIGHT;break;default:O=-1}switch(O){case qe.DOLLY:if(i.enableZoom===!1)return;H(b),s=r.DOLLY;break;case qe.ROTATE:if(b.ctrlKey||b.metaKey||b.shiftKey){if(i.enablePan===!1)return;te(b),s=r.PAN}else{if(i.enableRotate===!1)return;k(b),s=r.ROTATE}break;case qe.PAN:if(b.ctrlKey||b.metaKey||b.shiftKey){if(i.enableRotate===!1)return;k(b),s=r.ROTATE}else{if(i.enablePan===!1)return;te(b),s=r.PAN}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(_n)}function Ma(b){if(i.enabled!==!1)switch(s){case r.ROTATE:if(i.enableRotate===!1)return;fe(b);break;case r.DOLLY:if(i.enableZoom===!1)return;Pe(b);break;case r.PAN:if(i.enablePan===!1)return;he(b);break}}function $i(b){i.enabled===!1||i.enableZoom===!1||s!==r.NONE||(b.preventDefault(),i.dispatchEvent(_n),ie(b),i.dispatchEvent(rr))}function Ki(b){i.enabled===!1||i.enablePan===!1||U(b)}function Ca(b){switch(Xi(b),A.length){case 1:switch(i.touches.ONE){case Ze.ROTATE:if(i.enableRotate===!1)return;M(),s=r.TOUCH_ROTATE;break;case Ze.PAN:if(i.enablePan===!1)return;_(),s=r.TOUCH_PAN;break;default:s=r.NONE}break;case 2:switch(i.touches.TWO){case Ze.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ne(),s=r.TOUCH_DOLLY_PAN;break;case Ze.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;We(),s=r.TOUCH_DOLLY_ROTATE;break;default:s=r.NONE}break;default:s=r.NONE}s!==r.NONE&&i.dispatchEvent(_n)}function La(b){switch(Xi(b),s){case r.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ye(b),i.update();break;case r.TOUCH_PAN:if(i.enablePan===!1)return;zi(b),i.update();break;case r.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Aa(b),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ta(b),i.update();break;default:s=r.NONE}}function Wi(b){i.enabled!==!1&&b.preventDefault()}function Pa(b){A.push(b)}function Yi(b){delete L[b.pointerId];for(let O=0;O<A.length;O++)if(A[O].pointerId==b.pointerId){A.splice(O,1);return}}function Xi(b){let O=L[b.pointerId];O===void 0&&(O=new Q,L[b.pointerId]=O),O.set(b.pageX,b.pageY)}function En(b){const O=b.pointerId===A[0].pointerId?A[1]:A[0];return L[O.pointerId]}i.domElement.addEventListener("contextmenu",Wi),i.domElement.addEventListener("pointerdown",Bi),i.domElement.addEventListener("pointercancel",Gi),i.domElement.addEventListener("wheel",$i,{passive:!1}),this.update()}}var Ul=4,zl=.001,Hl=1e-7,Bl=10,mt=11,Ut=1/(mt-1),Gl=typeof Float32Array=="function";function ks(t,e){return 1-3*e+3*t}function Fs(t,e){return 3*e-6*t}function Ns(t){return 3*t}function Jt(t,e,n){return((ks(e,n)*t+Fs(e,n))*t+Ns(e))*t}function js(t,e,n){return 3*ks(e,n)*t*t+2*Fs(e,n)*t+Ns(e)}function $l(t,e,n,i,r){var s,o,a=0;do o=e+(n-e)/2,s=Jt(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>Hl&&++a<Bl);return o}function Kl(t,e,n,i){for(var r=0;r<Ul;++r){var s=js(e,n,i);if(s===0)return e;var o=Jt(e,n,i)-t;e-=o/s}return e}function Wl(t){return t}var Yl=function(e,n,i,r){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&i===r)return Wl;for(var s=Gl?new Float32Array(mt):new Array(mt),o=0;o<mt;++o)s[o]=Jt(o*Ut,e,i);function a(l){for(var c=0,u=1,d=mt-1;u!==d&&s[u]<=l;++u)c+=Ut;--u;var f=(l-s[u])/(s[u+1]-s[u]),h=c+f*Ut,p=js(h,e,i);return p>=zl?Kl(l,h,e,i):p===0?h:$l(l,c,c+Ut,e,i)}return function(c){return c===0?0:c===1?1:Jt(a(c),n,r)}};const sr=Os(Yl);class Rt{constructor(e){w(this,"position");w(this,"focalPoint");this.position=e.position,this.focalPoint=e.focalPoint}update(){}}const It={idle:{position:new D(-2e4,12e3,2e4),focalPoint:new D(0,-1e3,0)},monitor:{position:new D(0,950,2e3),focalPoint:new D(0,950,0)},desk:{position:new D(0,1800,5500),focalPoint:new D(0,500,0)},loading:{position:new D(-35e3,35e3,35e3),focalPoint:new D(0,-5e3,0)},orbitControlsStart:{position:new D(-15e3,1e4,15e3),focalPoint:new D(-100,350,0)}};class Xl extends Rt{constructor(){const n=It.monitor;super(n);w(this,"application");w(this,"sizes");w(this,"targetPos");w(this,"origin");this.application=new oe,this.sizes=this.application.sizes,this.origin=new D().copy(n.position),this.targetPos=new D().copy(n.position)}update(){const n=this.sizes.height/this.sizes.width,i=this.sizes.width<768?0:600;this.targetPos.z=this.origin.z+n*1200-i,this.position.copy(this.targetPos)}}class ql extends Rt{constructor(){const e=It.loading;super(e)}update(){}}class Zl extends Rt{constructor(){const n=It.desk;super(n);w(this,"origin");w(this,"application");w(this,"mouse");w(this,"sizes");w(this,"targetFoc");w(this,"targetPos");this.application=new oe,this.mouse=this.application.mouse,this.sizes=this.application.sizes,this.origin=new D().copy(n.position),this.targetFoc=new D().copy(n.focalPoint),this.targetPos=new D().copy(n.position)}update(){this.targetFoc.x+=(this.mouse.x-this.sizes.width/2-this.targetFoc.x)*.05,this.targetFoc.y+=(-(this.mouse.y-this.sizes.height)-this.targetFoc.y)*.05,this.targetPos.x+=(this.mouse.x-this.sizes.width/2-this.targetPos.x)*.025,this.targetPos.y+=(-(this.mouse.y-this.sizes.height*2)-this.targetPos.y)*.025;const n=this.sizes.height/this.sizes.width;this.targetPos.z=this.origin.z+n*3e3-1800,this.focalPoint.copy(this.targetFoc),this.position.copy(this.targetPos)}}class Jl extends Rt{constructor(){const n=It.idle;super(n);w(this,"time");w(this,"origin");this.origin=new D().copy(n.position),this.time=new Vs}update(){this.position.x=Math.sin((this.time.elapsed+19e3)*8e-5)*this.origin.x,this.position.y=Math.sin((this.time.elapsed+1e3)*4e-6)*4e3+this.origin.y-3e3,this.position.z=this.position.z}}class Ql extends Rt{constructor(){const e=It.orbitControlsStart;super(e)}update(){}}class ec extends $e{constructor(){super();w(this,"application");w(this,"sizes");w(this,"scene");w(this,"instance");w(this,"renderer");w(this,"resources");w(this,"time");w(this,"position");w(this,"focalPoint");w(this,"freeCam");w(this,"orbitControls");w(this,"currentKeyframe");w(this,"targetKeyframe");w(this,"keyframes");this.application=new oe,this.sizes=this.application.sizes,this.scene=this.application.scene,this.renderer=this.application.renderer,this.resources=this.application.resources,this.time=this.application.time,this.position=new D(0,0,0),this.focalPoint=new D(0,0,0),this.freeCam=!1,this.keyframes={idle:new Jl,monitor:new Xl,loading:new ql,desk:new Zl,orbitControlsStart:new Ql},document.addEventListener("mousedown",n=>{n.preventDefault(),n.target.id!=="prevent-click"&&(this.currentKeyframe==="idle"||this.targetKeyframe==="idle"?this.transition("desk"):(this.currentKeyframe==="desk"||this.targetKeyframe==="desk")&&this.transition("idle"))}),this.setPostLoadTransition(),this.setInstance(),this.setMonitorListeners(),this.setFreeCamListeners()}transition(n,i=1e3,r,s){if(this.currentKeyframe===n)return;this.targetKeyframe&&_e.removeAll(),this.currentKeyframe=void 0,this.targetKeyframe=n;const o=this.keyframes[n],a=new _e.Tween(this.position).to(o.position,i).easing(r||_e.Easing.Quintic.InOut).onComplete(()=>{this.currentKeyframe=n,this.targetKeyframe=void 0,s&&s()}),l=new _e.Tween(this.focalPoint).to(o.focalPoint,i).easing(r||_e.Easing.Quintic.InOut);a.start(),l.start()}setInstance(){this.instance=new Ts(35,this.sizes.width/this.sizes.height,10,9e5),this.currentKeyframe="loading",this.scene.add(this.instance)}setMonitorListeners(){this.on("enterMonitor",()=>{this.transition("monitor",2e3,sr(.13,.99,0,1)),ee.dispatch("enterMonitor",{})}),this.on("leftMonitor",()=>{this.transition("desk"),ee.dispatch("leftMonitor",{})})}setFreeCamListeners(){ee.on("freeCamToggle",n=>{n?(this.transition("orbitControlsStart",750,sr(.13,.99,0,1),()=>{this.instance.position.copy(this.keyframes.orbitControlsStart.position),this.orbitControls.update(),this.freeCam=!0}),document.getElementById("webgl").style.pointerEvents="auto"):(this.freeCam=!1,this.transition("idle",4e3,_e.Easing.Exponential.Out),document.getElementById("webgl").style.pointerEvents="none")})}setPostLoadTransition(){ee.on("loadingScreenDone",()=>{this.transition("idle",2500,_e.Easing.Exponential.Out)})}resize(){this.instance.aspect=this.sizes.width/this.sizes.height,this.instance.updateProjectionMatrix()}createControls(){this.renderer=this.application.renderer,this.orbitControls=new jl(this.instance,this.renderer.instance.domElement);const{x:n,y:i,z:r}=this.keyframes.orbitControlsStart.focalPoint;this.orbitControls.target.set(n,i,r),this.orbitControls.enablePan=!1,this.orbitControls.enableDamping=!0,this.orbitControls.object.position.copy(this.keyframes.orbitControlsStart.position),this.orbitControls.dampingFactor=.05,this.orbitControls.maxPolarAngle=Math.PI/2,this.orbitControls.minDistance=4e3,this.orbitControls.maxDistance=29e3,this.orbitControls.update()}update(){if(_e.update(),this.freeCam&&this.orbitControls){this.position.copy(this.orbitControls.object.position),this.focalPoint.copy(this.orbitControls.target),this.orbitControls.update();return}for(const n in this.keyframes){const i=n;this.keyframes[i].update()}if(this.currentKeyframe){const n=this.keyframes[this.currentKeyframe];this.position.copy(n.position),this.focalPoint.copy(n.focalPoint)}this.instance.position.copy(this.position),this.instance.lookAt(this.focalPoint)}}const or=new D,tc=new Zt,ar=new D;class gi extends Es{constructor(e=document.createElement("div")){super(),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(n){n.element instanceof Element&&n.element.parentNode!==null&&n.element.parentNode.removeChild(n.element)})})}copy(e,n){return super.copy(e,n),this.element=e.element.cloneNode(!0),this}}gi.prototype.isCSS3DObject=!0;class nc extends gi{constructor(e){super(e),this.rotation2D=0}copy(e,n){return super.copy(e,n),this.rotation2D=e.rotation2D,this}}nc.prototype.isCSS3DSprite=!0;const pe=new fn,ic=new fn;class rc{constructor(e={}){const n=this;let i,r,s,o;const a={camera:{fov:0,style:""},objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l;const c=document.createElement("div");c.style.transformStyle="preserve-3d",c.style.pointerEvents="none",l.appendChild(c),this.getSize=function(){return{width:i,height:r}},this.render=function(p,m){const v=m.projectionMatrix.elements[5]*o;a.camera.fov!==v&&(l.style.perspective=m.isPerspectiveCamera?v+"px":"",a.camera.fov=v),p.autoUpdate===!0&&p.updateMatrixWorld(),m.parent===null&&m.updateMatrixWorld();let g,x;m.isOrthographicCamera&&(g=-(m.right+m.left)/2,x=(m.top+m.bottom)/2);const T=(m.isOrthographicCamera?"scale("+v+")translate("+u(g)+"px,"+u(x)+"px)"+d(m.matrixWorldInverse):"translateZ("+v+"px)"+d(m.matrixWorldInverse))+"translate("+s+"px,"+o+"px)";a.camera.style!==T&&(c.style.transform=T,a.camera.style=T),h(p,p,m)},this.setSize=function(p,m){i=p,r=m,s=i/2,o=r/2,l.style.width=p+"px",l.style.height=m+"px",c.style.width=p+"px",c.style.height=m+"px"};function u(p){return Math.abs(p)<1e-10?0:p}function d(p){const m=p.elements;return"matrix3d("+u(m[0])+","+u(-m[1])+","+u(m[2])+","+u(m[3])+","+u(m[4])+","+u(-m[5])+","+u(m[6])+","+u(m[7])+","+u(m[8])+","+u(-m[9])+","+u(m[10])+","+u(m[11])+","+u(m[12])+","+u(-m[13])+","+u(m[14])+","+u(m[15])+")"}function f(p){const m=p.elements;return"translate(-50%,-50%)"+("matrix3d("+u(m[0])+","+u(m[1])+","+u(m[2])+","+u(m[3])+","+u(-m[4])+","+u(-m[5])+","+u(-m[6])+","+u(-m[7])+","+u(m[8])+","+u(m[9])+","+u(m[10])+","+u(m[11])+","+u(m[12])+","+u(m[13])+","+u(m[14])+","+u(m[15])+")")}function h(p,m,v,g){if(p.isCSS3DObject){const x=p.visible&&p.layers.test(v.layers);if(p.element.style.display=x?"":"none",x){p.onBeforeRender(n,m,v);let y;p.isCSS3DSprite?(pe.copy(v.matrixWorldInverse),pe.transpose(),p.rotation2D!==0&&pe.multiply(ic.makeRotationZ(p.rotation2D)),p.matrixWorld.decompose(or,tc,ar),pe.setPosition(or),pe.scale(ar),pe.elements[3]=0,pe.elements[7]=0,pe.elements[11]=0,pe.elements[15]=1,y=f(pe)):y=f(p.matrixWorld);const T=p.element,A=a.objects.get(p);if(A===void 0||A.style!==y){T.style.transform=y;const L={style:y};a.objects.set(p,L)}T.parentNode!==c&&c.appendChild(T),p.onAfterRender(n,m,v)}}for(let x=0,y=p.children.length;x<y;x++)h(p.children[x],m,v)}}}const sc=`varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = vec4(position, 1.0);
}`,oc=`#ifdef GL_ES
precision mediump float;
#endif

const float PHI = 1.61803398874989484820459; // Φ = Golden Ratio
uniform float u_time;

// float gold_noise(vec2 xy, float seed) {
//   return fract(tan(distance(xy * PHI, xy) * seed) * xy.x);
// }

float noise(vec2 xy, float seed) {
  return fract(tan(distance(xy * PHI, xy) * seed) * xy.x);
}

void main() {
  gl_FragColor = vec4(noise(gl_FragCoord.xy, fract(u_time) + 1.0),
                      noise(gl_FragCoord.xy, fract(u_time) + 2.0),
                      noise(gl_FragCoord.xy, fract(u_time) + 3.0), 0.01);
}`;class ac{constructor(){w(this,"application");w(this,"sizes");w(this,"scene");w(this,"cssScene");w(this,"time");w(this,"overlay");w(this,"overlayScene");w(this,"camera");w(this,"overlayInstance");w(this,"instance");w(this,"cssInstance");w(this,"raiseExposure");w(this,"uniforms");this.application=new oe,this.time=this.application.time,this.sizes=this.application.sizes,this.scene=this.application.scene,this.cssScene=this.application.cssScene,this.overlayScene=this.application.overlayScene,this.camera=this.application.camera,this.setInstance()}setInstance(){var e,n,i;this.instance=new Ji({antialias:!0,alpha:!0,powerPreference:"high-performance"}),this.instance.outputEncoding=rt,this.instance.setSize(this.sizes.width,this.sizes.height),this.instance.setPixelRatio(Math.min(this.sizes.pixelRatio,2)),this.instance.setClearColor(0,0),this.instance.domElement.style.position="absolute",this.instance.domElement.style.zIndex="1px",this.instance.domElement.style.top="0px",(e=document.querySelector("#webgl"))==null||e.appendChild(this.instance.domElement),this.overlayInstance=new Ji,this.overlayInstance.setSize(this.sizes.width,this.sizes.height),this.overlayInstance.domElement.style.position="absolute",this.overlayInstance.domElement.style.top="0px",this.overlayInstance.domElement.style.mixBlendMode="soft-light",this.overlayInstance.domElement.style.opacity="0.12",this.overlayInstance.domElement.style.pointerEvents="none",(n=document.querySelector("#overlay"))==null||n.appendChild(this.overlayInstance.domElement),this.cssInstance=new rc,this.cssInstance.setSize(this.sizes.width,this.sizes.height),this.cssInstance.domElement.style.position="absolute",this.cssInstance.domElement.style.top="0px",(i=document.querySelector("#css"))==null||i.appendChild(this.cssInstance.domElement),this.uniforms={u_time:{value:1}},this.overlay=new ge(new Qe(1e4,1e4),new Ms({vertexShader:sc,fragmentShader:oc,uniforms:this.uniforms,depthTest:!1,depthWrite:!1})),this.overlayScene.add(this.overlay)}resize(){this.instance.setSize(this.sizes.width,this.sizes.height),this.instance.setPixelRatio(Math.min(this.sizes.pixelRatio,2)),this.cssInstance.setSize(this.sizes.width,this.sizes.height),this.overlayInstance.setSize(this.sizes.width,this.sizes.height),this.overlayInstance.setPixelRatio(Math.min(this.sizes.pixelRatio,2))}update(){this.application.camera.instance.updateProjectionMatrix(),this.uniforms&&(this.uniforms.u_time.value=Math.sin(this.time.current*.01)),this.instance.render(this.scene,this.camera.instance),this.cssInstance.render(this.cssScene,this.camera.instance),this.overlayInstance.render(this.overlayScene,this.camera.instance),this.overlay.position.copy(this.camera.instance.position)}}class lc extends $e{constructor(){super();w(this,"x");w(this,"y");w(this,"inComputer");w(this,"application");this.x=0,this.y=0,this.inComputer=!1,this.on("mousemove",n=>{n.clientX&&n.clientY&&(this.x=n.clientX,this.y=n.clientY),this.inComputer=!!n.inComputer})}}class vi{constructor(e,n,i){w(this,"model");w(this,"texture");w(this,"material");return this.model=e,this.texture=n,this.texture.flipY=!1,this.texture.encoding=rt,this.material=new ve({map:this.texture}),this.model.scene.traverse(r=>{r instanceof ge&&(i&&r.scale.set(i,i,i),r.material.map=this.texture,r.material=this.material)}),this}getModel(){return this.model.scene}}class cc{constructor(){w(this,"application");w(this,"scene");w(this,"resources");w(this,"bakedModel");this.application=new oe,this.scene=this.application.scene,this.resources=this.application.resources,this.bakeModel(),this.setModel()}bakeModel(){this.bakedModel=new vi(this.resources.items.gltfModel.computerSetupModel,this.resources.items.texture.computerSetupTexture,900)}setModel(){this.scene.add(this.bakedModel.getModel())}}const Qt={w:1280,h:1024},$n=32,lr={w:Qt.w-$n,h:Qt.h-$n};class uc extends $e{constructor(){super();w(this,"application");w(this,"scene");w(this,"cssScene");w(this,"resources");w(this,"debug");w(this,"sizes");w(this,"debugFolder");w(this,"screenSize");w(this,"position");w(this,"rotation");w(this,"camera");w(this,"prevInComputer");w(this,"shouldLeaveMonitor");w(this,"inComputer");w(this,"mouseClickInProgress");w(this,"dimmingPlane");w(this,"videoTextures");this.application=new oe,this.scene=this.application.scene,this.cssScene=this.application.cssScene,this.sizes=this.application.sizes,this.resources=this.application.resources,this.screenSize=new Q(Qt.w,Qt.h),this.camera=this.application.camera,this.position=new D(0,950,255),this.rotation=new ct(-3*Je.DEG2RAD,0,0),this.videoTextures={},this.mouseClickInProgress=!1,this.shouldLeaveMonitor=!1,this.initializeScreenEvents(),this.createIframe();const n=this.createTextureLayers();this.createEnclosingPlanes(n),this.createPerspectiveDimmer(n)}initializeScreenEvents(){document.addEventListener("mousemove",n=>{n.target.id==="computer-screen"&&(n.inComputer=!0),this.inComputer=n.inComputer,this.inComputer&&!this.prevInComputer&&this.camera.trigger("enterMonitor"),!this.inComputer&&this.prevInComputer&&!this.mouseClickInProgress&&this.camera.trigger("leftMonitor"),!this.inComputer&&this.mouseClickInProgress&&this.prevInComputer?this.shouldLeaveMonitor=!0:this.shouldLeaveMonitor=!1,this.application.mouse.trigger("mousemove",[n]),this.prevInComputer=this.inComputer},!1),document.addEventListener("mousedown",n=>{this.inComputer=n.inComputer,this.application.mouse.trigger("mousedown",[n]),this.mouseClickInProgress=!0,this.prevInComputer=this.inComputer},!1),document.addEventListener("mouseup",n=>{this.inComputer=n.inComputer,this.application.mouse.trigger("mouseup",[n]),this.shouldLeaveMonitor&&(this.camera.trigger("leftMonitor"),this.shouldLeaveMonitor=!1),this.mouseClickInProgress=!1,this.prevInComputer=this.inComputer},!1)}createIframe(){const n=document.createElement("div");n.style.width=this.screenSize.width+"px",n.style.height=this.screenSize.height+"px",n.style.opacity="1",n.style.background="#1d2e2f";const i=document.createElement("iframe");i.onload=()=>{i.contentWindow&&window.addEventListener("message",s=>{var o=new CustomEvent(s.data.type,{bubbles:!0,cancelable:!1});if(o.inComputer=!0,s.data.type==="mousemove"){var a=i.getBoundingClientRect();const{top:l,left:c,width:u,height:d}=a,f=u/lr.w,h=d/lr.h;o.clientX=Math.round(s.data.clientX*f+c),o.clientY=Math.round(s.data.clientY*h+l)}else(s.data.type==="keydown"||s.data.type==="keyup")&&(o.key=s.data.key);i.dispatchEvent(o)})},i.src="./portfolio/",i.onerror=()=>{console.error("Failed to load iframe:",i.src),console.log("Attempting fallback URL..."),i.style.background="#1a1a1a",i.innerHTML=`<div style="color: white; padding: 20px; text-align: center;">Loading Jennifer's Portfolio...</div>`},i.addEventListener("load",()=>{var s,o;console.log("Iframe loaded successfully:",i.src),console.log("Final iframe URL:",((o=(s=i.contentWindow)==null?void 0:s.location)==null?void 0:o.href)||"Unable to access")}),console.log("Setting iframe src to:",i.src),new URLSearchParams(window.location.search).has("dev")&&(i.src="http://localhost:3000/",console.log("Dev mode detected, using localhost:",i.src)),i.style.width=this.screenSize.width+"px",i.style.height=this.screenSize.height+"px",i.style.padding=$n+"px",i.style.boxSizing="border-box",i.style.opacity="1",i.className="jitter",i.id="computer-screen",i.frameBorder="0",i.title="AmayaOS",i.setAttribute("loading","eager"),i.setAttribute("referrerpolicy","no-referrer-when-downgrade"),i.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),n.appendChild(i),this.createCssPlane(n)}createCssPlane(n){const i=new gi(n);i.position.copy(this.position),i.rotation.copy(this.rotation),this.cssScene.add(i);const r=new Oa;r.side=pt,r.opacity=0,r.transparent=!0,r.blending=Da;const s=new Qe(this.screenSize.width,this.screenSize.height),o=new ge(s,r);o.position.copy(i.position),o.rotation.copy(i.rotation),o.scale.copy(i.scale),this.scene.add(o)}createTextureLayers(){const n=this.resources.items.texture;this.getVideoTextures("video-1"),this.getVideoTextures("video-2");const i=4,r={smudge:{texture:n.monitorSmudgeTexture,blending:jt,opacity:.12,offset:24},innerShadow:{texture:n.monitorShadowTexture,blending:Va,opacity:1,offset:5},video:{texture:this.videoTextures["video-1"],blending:jt,opacity:.5,offset:10},video2:{texture:this.videoTextures["video-2"],blending:jt,opacity:.1,offset:15}};let s=-1;for(const[o,a]of Object.entries(r)){const l=a.offset*i;this.addTextureLayer(a.texture,a.blending,a.opacity,l),l>s&&(s=l)}return s}getVideoTextures(n){const i=document.getElementById(n);i?this.videoTextures[n]=new ka(i):setTimeout(()=>{this.getVideoTextures(n)},100)}addTextureLayer(n,i,r,s){const o=new ve({map:n,blending:i,side:pt,opacity:r,transparent:!0}),a=new Qe(this.screenSize.width,this.screenSize.height),l=new ge(a,o);l.position.copy(this.offsetPosition(this.position,new D(0,0,s))),l.rotation.copy(this.rotation),this.scene.add(l)}createEnclosingPlanes(n){const i={left:{size:new Q(n,this.screenSize.height),position:this.offsetPosition(this.position,new D(-this.screenSize.width/2,0,n/2)),rotation:new ct(0,90*Je.DEG2RAD,0)},right:{size:new Q(n,this.screenSize.height),position:this.offsetPosition(this.position,new D(this.screenSize.width/2,0,n/2)),rotation:new ct(0,90*Je.DEG2RAD,0)},top:{size:new Q(this.screenSize.width,n),position:this.offsetPosition(this.position,new D(0,this.screenSize.height/2,n/2)),rotation:new ct(90*Je.DEG2RAD,0,0)},bottom:{size:new Q(this.screenSize.width,n),position:this.offsetPosition(this.position,new D(0,-this.screenSize.height/2,n/2)),rotation:new ct(90*Je.DEG2RAD,0,0)}};for(const[r,s]of Object.entries(i))this.createEnclosingPlane(s)}createEnclosingPlane(n){const i=new ve({side:pt,color:4737343}),r=new Qe(n.size.x,n.size.y),s=new ge(r,i);s.position.copy(n.position),s.rotation.copy(n.rotation),this.scene.add(s)}createPerspectiveDimmer(n){const i=new ve({side:pt,color:0,transparent:!0,blending:jt}),r=new Qe(this.screenSize.width,this.screenSize.height),s=new ge(r,i);s.position.copy(this.offsetPosition(this.position,new D(0,0,n-5))),s.rotation.copy(this.rotation),this.dimmingPlane=s,this.scene.add(s)}offsetPosition(n,i){const r=new D;return r.copy(n),r.add(i),r}update(){if(this.dimmingPlane){const n=new D(0,0,1),i=new D;i.copy(this.camera.instance.position),i.sub(this.position),i.normalize();const r=i.dot(n),s=this.dimmingPlane.position,o=this.camera.instance.position,l=1/(Math.sqrt((o.x-s.x)**2+(o.y-s.y)**2+(o.z-s.z)**2)/1e4),c=.7;this.dimmingPlane.material.opacity=(1-l)*c+(1-r)*c}}}class dc{constructor(){w(this,"application");w(this,"scene");w(this,"resources");w(this,"bakedModel");this.application=new oe,this.scene=this.application.scene,this.resources=this.application.resources,this.bakeModel(),this.setModel()}bakeModel(){this.bakedModel=new vi(this.resources.items.gltfModel.environmentModel,this.resources.items.texture.environmentTexture,900)}setModel(){this.scene.add(this.bakedModel.getModel())}update(){}}class fc{constructor(){w(this,"application");w(this,"scene");w(this,"resources");w(this,"bakedModel");this.application=new oe,this.scene=this.application.scene,this.resources=this.application.resources,this.bakeModel(),this.setModel()}bakeModel(){this.bakedModel=new vi(this.resources.items.gltfModel.decorModel,this.resources.items.texture.decorTexture,900)}setModel(){this.scene.add(this.bakedModel.getModel())}}const hc=`uniform float uTime;
uniform float uTimeFrequency;
uniform vec2 uUvFrequency;
uniform vec3 uColor;

varying vec2 vUv;

vec2 fade(vec2 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }
vec4 permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }

float perlin2d(vec2 P) {
  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);
  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);
  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation
  vec4 ix = Pi.xzxz;
  vec4 iy = Pi.yyww;
  vec4 fx = Pf.xzxz;
  vec4 fy = Pf.yyww;
  vec4 i = permute(permute(ix) + iy);
  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...
  vec4 gy = abs(gx) - 0.5;
  vec4 tx = floor(gx + 0.5);
  gx = gx - tx;
  vec2 g00 = vec2(gx.x, gy.x);
  vec2 g10 = vec2(gx.y, gy.y);
  vec2 g01 = vec2(gx.z, gy.z);
  vec2 g11 = vec2(gx.w, gy.w);
  vec4 norm =
      1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01),
                                                 dot(g10, g10), dot(g11, g11));
  g00 *= norm.x;
  g01 *= norm.y;
  g10 *= norm.z;
  g11 *= norm.w;
  float n00 = dot(g00, vec2(fx.x, fy.x));
  float n10 = dot(g10, vec2(fx.y, fy.y));
  float n01 = dot(g01, vec2(fx.z, fy.z));
  float n11 = dot(g11, vec2(fx.w, fy.w));
  vec2 fade_xy = fade(Pf.xy);
  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);
  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);
  return 2.3 * n_xy;
}

void main() {
  vec2 uv = vUv * uUvFrequency;
  uv.y -= uTime * uTimeFrequency;

  float borderAlpha = min(vUv.x * 4.0, (1.0 - vUv.x) * 4.0);
  borderAlpha = borderAlpha * (1.0 - vUv.y);

  float perlin = perlin2d(uv);
  perlin *= borderAlpha;
  perlin *= 0.6;
  perlin = min(perlin, 1.0);

  gl_FragColor = vec4(uColor, perlin);
}`,pc=`uniform float uTime;

varying vec2 vUv;

vec2 fade(vec2 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }
vec4 permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }

float perlin2d(vec2 P) {
  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);
  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);
  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation
  vec4 ix = Pi.xzxz;
  vec4 iy = Pi.yyww;
  vec4 fx = Pf.xzxz;
  vec4 fy = Pf.yyww;
  vec4 i = permute(permute(ix) + iy);
  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...
  vec4 gy = abs(gx) - 0.5;
  vec4 tx = floor(gx + 0.5);
  gx = gx - tx;
  vec2 g00 = vec2(gx.x, gy.x);
  vec2 g10 = vec2(gx.y, gy.y);
  vec2 g01 = vec2(gx.z, gy.z);
  vec2 g11 = vec2(gx.w, gy.w);
  vec4 norm =
      1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01),
                                                 dot(g10, g10), dot(g11, g11));
  g00 *= norm.x;
  g01 *= norm.y;
  g10 *= norm.z;
  g11 *= norm.w;
  float n00 = dot(g00, vec2(fx.x, fy.x));
  float n10 = dot(g10, vec2(fx.y, fy.y));
  float n01 = dot(g01, vec2(fx.z, fy.z));
  float n11 = dot(g11, vec2(fx.w, fy.w));
  vec2 fade_xy = fade(Pf.xy);
  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);
  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);
  return 2.3 * n_xy;
}

void main() {
  vec3 newPosition = position;
  vec2 displacementUv = uv;
  displacementUv *= 5.0;
  displacementUv.y -= uTime * 0.0002;

  float displacementStrength = pow(uv.y * 3.0, 2.0);
  float perlin = perlin2d(displacementUv) * displacementStrength;

  newPosition.y += perlin * 0.1;

  vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);
  vec4 viewPosition = viewMatrix * modelPosition;
  vec4 projectionPosition = projectionMatrix * viewPosition;
  gl_Position = projectionPosition;

  vUv = uv;
}`;class mc{constructor(){w(this,"model");w(this,"application");w(this,"resources");w(this,"scene");w(this,"time");this.application=new oe,this.resources=this.application.resources,this.scene=this.application.scene,this.time=this.application.time,this.setModel()}setModel(){this.model={},this.model.color="#c9c9c9",this.model.material=new Ms({transparent:!0,depthWrite:!1,vertexShader:pc,fragmentShader:hc,uniforms:{uTime:{value:0},uTimeFrequency:{value:.001},uUvFrequency:{value:new Q(3,5)},uColor:{value:new ae(this.model.color)}}}),this.model.mesh=new ge(new Qe(280,700),this.model.material),this.model.mesh.position.copy(new D(1670,200,900)),this.scene.add(this.model.mesh)}update(){this.model.material.uniforms.uTime.value=this.time.elapsed}}class Us{constructor(e){w(this,"manager");this.manager=e}update(){}}class gc extends Us{constructor(n){super(n);w(this,"lastKey");document.addEventListener("mousedown",i=>{i.inComputer&&this.manager.playAudio("mouseDown",{volume:.8,position:new D(800,-300,1200)})}),document.addEventListener("mouseup",i=>{i.inComputer&&this.manager.playAudio("mouseUp",{volume:.8,position:new D(800,-300,1200)})}),document.addEventListener("keyup",i=>{i.inComputer&&(this.lastKey="")}),document.addEventListener("keydown",i=>{if(i.key.includes("_AUTO_")){this.manager.playAudio("ccType",{volume:.1,randDetuneScale:0,pitch:20});return}this.lastKey!==i.key&&(this.lastKey=i.key,i.inComputer&&this.manager.playAudio("keyboardKeydown",{volume:.8,position:new D(-300,-400,1200)}))})}}class vc extends Us{constructor(n){super(n);w(this,"poolKey");ee.on("loadingScreenDone",()=>{this.poolKey=this.manager.playAudio("office",{volume:1,loop:!0,randDetuneScale:0,filter:{type:"lowpass",frequency:1e3}}),this.manager.playAudio("startup",{volume:.4,randDetuneScale:0})})}mapValues(n,i,r,s,o){return s+(o-s)/(r-i)*(n-i)}update(){const n=this.manager.application.camera.instance.position,i=n.y,r=n.x,s=n.z,o=Math.sqrt(r*r+i*i+s*s),a=this.mapValues(o,0,1e4,100,22e3),l=this.mapValues(o,1200,1e4,0,.2),c=Math.min(Math.max(l,.05),.1);this.manager.setAudioFilterFrequency(this.poolKey,a-3e3),this.manager.setAudioVolume(this.poolKey,c)}}const yc=1e4;class bc{constructor(){w(this,"application");w(this,"listener");w(this,"context");w(this,"loadedAudio");w(this,"audioPool");w(this,"audioSources");w(this,"scene");this.application=new oe,this.listener=new Fa,this.application.camera.instance.add(this.listener),this.loadedAudio=this.application.resources.items.audio,this.scene=this.application.scene,this.audioPool={},this.audioSources={computer:new gc(this),ambience:new vc(this)},ee.on("loadingScreenDone",()=>{setTimeout(()=>{const e=window.AudioContext||window.webkitAudioContext;this.context=new e,this.context.resume()},100)}),ee.on("muteToggle",e=>{this.listener.setMasterVolume(e?0:1)})}playAudio(e,n={}){this.context&&this.context.resume(),e=this.getRandomVariant(e);const i=this.loadedAudio[e],r=e+"_"+Object.keys(this.audioPool).length;let s=new Na(this.listener);if(n.position){s=new ja(this.listener),s.setRefDistance(n.refDistance||yc);const a={transparent:!0,opacity:0},l=new Ua(100,8,8),c=new ve({color:16711680,...a}),u=new ge(l,c);u.position.copy(n.position),u.name=r,this.scene.add(u)}if(s.setBuffer(i),n.filter){const a=s.context,l=a.createBiquadFilter();l.type=n.filter.type,l.frequency.setValueAtTime(n.filter.frequency,a.currentTime),s.setFilter(l)}s.setLoop(!!n.loop),s.setVolume(n.volume||1),s.play();const o=(Math.random()*200-100)*(n.randDetuneScale?n.randDetuneScale:0);return s.setDetune(o),n.pitch&&s.setDetune(n.pitch*100),s.source&&(s.source.onended=()=>{if(delete this.audioPool[r],n.position){const a=this.scene.getObjectByName(r);a&&this.scene.remove(a)}},this.audioPool[r]=s),r}setAudioFilterFrequency(e,n){const i=this.audioPool[e];if(i){const r=i.context,s=i.getFilter(),o=Math.max(0,Math.min(22050,n));s.frequency.setValueAtTime(o,r.currentTime)}}setAudioVolume(e,n){const i=this.audioPool[e];i&&i.setVolume(n)}getRandomVariant(e){const n=[];for(const i in this.loadedAudio)i.includes(e)&&n.push(i);return n[Math.floor(Math.random()*n.length)]}update(){for(const e in this.audioSources){const n=e;this.audioSources[n].update()}}}class xc{constructor(){w(this,"application");w(this,"scene");w(this,"resources");w(this,"environment");w(this,"decor");w(this,"computerSetup");w(this,"monitorScreen");w(this,"coffeeSteam");w(this,"cursor");w(this,"audioManager");this.application=new oe,this.scene=this.application.scene,this.resources=this.application.resources,this.resources.on("ready",()=>{this.environment=new dc,this.decor=new fc,this.computerSetup=new cc,this.monitorScreen=new uc,this.coffeeSteam=new mc,this.audioManager=new bc})}update(){this.monitorScreen&&this.monitorScreen.update(),this.environment&&this.environment.update(),this.coffeeSteam&&this.coffeeSteam.update(),this.audioManager&&this.audioManager.update()}}class wc extends za{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Ec(n)}),this.register(function(n){return new Rc(n)}),this.register(function(n){return new Ic(n)}),this.register(function(n){return new Mc(n)}),this.register(function(n){return new Cc(n)}),this.register(function(n){return new Lc(n)}),this.register(function(n){return new Pc(n)}),this.register(function(n){return new _c(n)}),this.register(function(n){return new Ac(n)}),this.register(function(n){return new Oc(n)})}load(e,n,i,r){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Be.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Cs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let s;const o={},a={};if(typeof e=="string")s=e;else if(Be.decodeText(new Uint8Array(e,0,4))===zs){try{o[F.KHR_BINARY_GLTF]=new Dc(e)}catch(d){r&&r(d);return}s=o[F.KHR_BINARY_GLTF].content}else s=Be.decodeText(new Uint8Array(e));const l=JSON.parse(s);if(l.asset===void 0||l.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Kc(l,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);a[d.name]=d,o[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case F.KHR_MATERIALS_UNLIT:o[d]=new Tc;break;case F.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[d]=new Fc;break;case F.KHR_DRACO_MESH_COMPRESSION:o[d]=new Vc(l,this.dracoLoader);break;case F.KHR_TEXTURE_TRANSFORM:o[d]=new kc;break;case F.KHR_MESH_QUANTIZATION:o[d]=new Nc;break;default:f.indexOf(d)>=0&&a[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,s){i.parse(e,n,r,s)})}}function Sc(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const F={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Ac{constructor(e){this.parser=e,this.name=F.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const s=n[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new ae(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Ga(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Ba(u),c.distance=d;break;case"spot":c=new Ha(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),n.cache.add(i,r),r}createNodeAttachment(e){const n=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(n.cache,a,l)})}}class Tc{constructor(){this.name=F.KHR_MATERIALS_UNLIT}getMaterialType(){return ve}extendParams(e,n,i){const r=[];e.color=new ae(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture))}return Promise.all(r)}}class Ec{constructor(e){this.parser=e,this.name=F.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:at}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Q(a,a)}return Promise.all(s)}}class Mc{constructor(e){this.parser=e,this.name=F.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:at}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new ae(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=r.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(n,"sheenColorMap",o.sheenColorTexture)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Cc{constructor(e){this.parser=e,this.name=F.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:at}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Lc{constructor(e){this.parser=e,this.name=F.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:at}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new ae(a[0],a[1],a[2]),Promise.all(s)}}class Pc{constructor(e){this.parser=e,this.name=F.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:at}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class _c{constructor(e){this.parser=e,this.name=F.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:at}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new ae(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(i.assignTexture(n,"specularColorMap",o.specularColorTexture).then(function(l){l.encoding=rt})),Promise.all(s)}}class Rc{constructor(e){this.parser=e,this.name=F.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=i.images[s.source],a=n.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,o,a)}}class Ic{constructor(e){this.parser=e,this.name=F.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,a,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Oc{constructor(e){this.name=F.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([s,o.ready]).then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,d=r.byteStride,f=new ArrayBuffer(u*d),h=new Uint8Array(a[0],l,c);return o.decodeGltfBuffer(new Uint8Array(f),u,d,h,r.mode,r.filter),f})}else return null}}const zs="glTF",ut=12,cr={JSON:1313821514,BIN:5130562};class Dc{constructor(e){this.name=F.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,ut);if(this.header={magic:Be.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==zs)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-ut,r=new DataView(e,ut);let s=0;for(;s<i;){const o=r.getUint32(s,!0);s+=4;const a=r.getUint32(s,!0);if(s+=4,a===cr.JSON){const l=new Uint8Array(e,ut+s,o);this.content=Be.decodeText(l)}else if(a===cr.BIN){const l=ut+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Vc{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=F.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const d=Wn[u]||u.toLowerCase();a[d]=o[u]}for(const u in e.attributes){const d=Wn[u]||u.toLowerCase();if(o[u]!==void 0){const f=i.accessors[e.attributes[u]],h=Tt[f.componentType];c[d]=h,l[d]=f.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(d){r.decodeDracoFile(u,function(f){for(const h in f.attributes){const p=f.attributes[h],m=l[h];m!==void 0&&(p.normalized=m)}d(f)},a,c)})})}}class kc{constructor(){this.name=F.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return n.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Kn extends hi{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const n=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),i=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),s=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),a={specular:{value:new ae().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",n).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",s).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Fc{constructor(){this.name=F.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return Kn}extendParams(e,n,i){const r=n.extensions[this.name];e.color=new ae(1,1,1),e.opacity=1;const s=[];if(Array.isArray(r.diffuseFactor)){const o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(r.diffuseTexture!==void 0&&s.push(i.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new ae(0,0,0),e.glossiness=r.glossinessFactor!==void 0?r.glossinessFactor:1,e.specular=new ae(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),r.specularGlossinessTexture!==void 0){const o=r.specularGlossinessTexture;s.push(i.assignTexture(e,"glossinessMap",o)),s.push(i.assignTexture(e,"specularMap",o))}return Promise.all(s)}createMaterial(e){const n=new Kn(e);return n.fog=!0,n.color=e.color,n.map=e.map===void 0?null:e.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=e.aoMap===void 0?null:e.aoMap,n.aoMapIntensity=1,n.emissive=e.emissive,n.emissiveIntensity=1,n.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,n.bumpMap=e.bumpMap===void 0?null:e.bumpMap,n.bumpScale=1,n.normalMap=e.normalMap===void 0?null:e.normalMap,n.normalMapType=$a,e.normalScale&&(n.normalScale=e.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=e.specularMap===void 0?null:e.specularMap,n.specular=e.specular,n.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,n.glossiness=e.glossiness,n.alphaMap=null,n.envMap=e.envMap===void 0?null:e.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}class Nc{constructor(){this.name=F.KHR_MESH_QUANTIZATION}}class Ge extends bl{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)n[o]=i[s+o];return n}}Ge.prototype.beforeStart_=Ge.prototype.copySampleValue_;Ge.prototype.afterEnd_=Ge.prototype.copySampleValue_;Ge.prototype.interpolate_=function(t,e,n,i){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=o*2,l=o*3,c=i-e,u=(n-e)/c,d=u*u,f=d*u,h=t*l,p=h-l,m=-2*f+3*d,v=f-d,g=1-m,x=v-d+u;for(let y=0;y!==o;y++){const T=s[p+y+o],A=s[p+y+a]*c,L=s[h+y+o],P=s[h+y]*c;r[y]=g*T+x*A+m*L+v*P}return r};const jc=new Zt;class Uc extends Ge{interpolate_(e,n,i,r){const s=super.interpolate_(e,n,i,r);return jc.fromArray(s).normalize().toArray(s),s}}const Te={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Tt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ur={9728:al,9729:Ps,9984:ll,9985:cl,9986:ul,9987:_s},dr={33071:dl,33648:fl,10497:Bn},fr={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Wn={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Re={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},zc={CUBICSPLINE:void 0,LINEAR:Rs,STEP:hl},Rn={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Hc(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new hi({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:pl})),t.DefaultMaterial}function dt(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function ze(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Bc(t,e,n){let i=!1,r=!1;for(let a=0,l=e.length;a<l;a++){const c=e[a];if(c.POSITION!==void 0&&(i=!0),c.NORMAL!==void 0&&(r=!0),i&&r)break}if(!i&&!r)return Promise.resolve(t);const s=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];if(i){const u=c.POSITION!==void 0?n.getDependency("accessor",c.POSITION):t.attributes.position;s.push(u)}if(r){const u=c.NORMAL!==void 0?n.getDependency("accessor",c.NORMAL):t.attributes.normal;o.push(u)}}return Promise.all([Promise.all(s),Promise.all(o)]).then(function(a){const l=a[0],c=a[1];return i&&(t.morphAttributes.position=l),r&&(t.morphAttributes.normal=c),t.morphTargetsRelative=!0,t})}function Gc(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $c(t){const e=t.extensions&&t.extensions[F.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+hr(e.attributes):n=t.indices+":"+hr(t.attributes)+":"+t.mode,n}function hr(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function Yn(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Kc{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Sc,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},typeof createImageBitmap<"u"&&/Firefox|^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!1?this.textureLoader=new Ka(this.options.manager):this.textureLoader=new Ls(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Cs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};dt(s,a,r),ze(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=n.length;r<s;r++){const o=n[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const s=e(n[r]);s&&i.push(s)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this.loadNode(n);break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this.loadAnimation(n);break;case"camera":r=this.loadCamera(n);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[F.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(Be.resolveURL(n.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,s=n.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0)return Promise.resolve(null);const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=fr[r.type],c=Tt[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=r.byteOffset||0,h=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,p=r.normalized===!0;let m,v;if(h&&h!==d){const g=Math.floor(f/h),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count;let y=n.cache.get(x);y||(m=new c(a,g*h,r.count*h/u),y=new Wa(m,h/u),n.cache.add(x,y)),v=new ml(y,l,f%h/u,p)}else a===null?m=new c(r.count*l):m=new c(a,f,r.count*l),v=new Qi(m,l,p);if(r.sparse!==void 0){const g=fr.SCALAR,x=Tt[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,T=r.sparse.values.byteOffset||0,A=new x(o[1],y,r.sparse.count*g),L=new c(o[2],T,r.sparse.count*l);a!==null&&(v=new Qi(v.array.slice(),v.itemSize,v.normalized));for(let P=0,V=A.length;P<V;P++){const R=A[P];if(v.setX(R,L[P*l]),l>=2&&v.setY(R,L[P*l+1]),l>=3&&v.setZ(R,L[P*l+2]),l>=4&&v.setW(R,L[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const n=this.json,i=this.options,r=n.textures[e],s=n.images[r.source];let o=this.textureLoader;if(s.uri){const a=i.manager.getHandler(s.uri);a!==null&&(o=a)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,n,i){const r=this,s=this.json,o=this.options,a=s.textures[e],l=(n.uri||n.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=self.URL||self.webkitURL;let u=n.uri||"",d=!1;if(n.bufferView!==void 0)u=r.getDependency("bufferView",n.bufferView).then(function(h){d=!0;const p=new Blob([h],{type:n.mimeType});return u=c.createObjectURL(p),u});else if(n.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(u).then(function(h){return new Promise(function(p,m){let v=p;i.isImageBitmapLoader===!0&&(v=function(g){const x=new er(g);x.needsUpdate=!0,p(x)}),i.load(Be.resolveURL(h,o.path),v,void 0,m)})}).then(function(h){d===!0&&c.revokeObjectURL(u),h.flipY=!1,a.name&&(h.name=a.name);const m=(s.samplers||{})[a.sampler]||{};return h.magFilter=ur[m.magFilter]||Ps,h.minFilter=ur[m.minFilter]||_s,h.wrapS=dr[m.wrapS]||Bn,h.wrapT=dr[m.wrapT]||Bn,r.associations.set(h,{textures:e}),h}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",u),null});return this.textureCache[l]=f,f}assignTexture(e,n,i){const r=this;return this.getDependency("texture",i.index).then(function(s){if(i.texCoord!==void 0&&i.texCoord!=0&&!(n==="aoMap"&&i.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+n+" not yet supported."),r.extensions[F.KHR_TEXTURE_TRANSFORM]){const o=i.extensions!==void 0?i.extensions[F.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const a=r.associations.get(s);s=r.extensions[F.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),r.associations.set(s,a)}}return e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Ya,Mn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Xa,Mn.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&n.attributes.uv2===void 0&&n.attributes.uv!==void 0&&n.setAttribute("uv2",n.attributes.uv),e.material=i}getMaterialType(){return hi}loadMaterial(e){const n=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[F.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=r[F.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=d.getMaterialType(),c.push(d.extendParams(a,s,n))}else if(l[F.KHR_MATERIALS_UNLIT]){const d=r[F.KHR_MATERIALS_UNLIT];o=d.getMaterialType(),c.push(d.extendParams(a,s,n))}else{const d=s.pbrMetallicRoughness||{};if(a.color=new ae(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=pt);const u=s.alphaMode||Rn.OPAQUE;if(u===Rn.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===Rn.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ve&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Q(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;a.normalScale.set(d,d)}return s.occlusionTexture!==void 0&&o!==ve&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ve&&(a.emissive=new ae().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==ve&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture)),Promise.all(c).then(function(){let d;return o===Kn?d=r[F.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):d=new o(a),s.name&&(d.name=s.name),d.map&&(d.map.encoding=rt),d.emissiveMap&&(d.emissiveMap.encoding=rt),ze(d,s),n.associations.set(d,{materials:e}),s.extensions&&dt(r,d,s),d})}createUniqueName(e){const n=qa.sanitizeNodeName(e||"");let i=n;for(let r=1;this.nodeNamesUsed[i];++r)i=n+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[F.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return pr(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=$c(c),d=r[u];if(d)o.push(d.promise);else{let f;c.extensions&&c.extensions[F.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=pr(new Za,c,n),r[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Hc(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],v=o[h];let g;const x=c[h];if(v.mode===Te.TRIANGLES||v.mode===Te.TRIANGLE_STRIP||v.mode===Te.TRIANGLE_FAN||v.mode===void 0)g=s.isSkinnedMesh===!0?new Ja(m,x):new ge(m,x),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),v.mode===Te.TRIANGLE_STRIP?g.geometry=mr(g.geometry,gl):v.mode===Te.TRIANGLE_FAN&&(g.geometry=mr(g.geometry,Is));else if(v.mode===Te.LINES)g=new Qa(m,x);else if(v.mode===Te.LINE_STRIP)g=new el(m,x);else if(v.mode===Te.LINE_LOOP)g=new tl(m,x);else if(v.mode===Te.POINTS)g=new nl(m,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(g.geometry.morphAttributes).length>0&&Gc(g,s),g.name=n.createUniqueName(s.name||"mesh_"+e),ze(g,s),v.extensions&&dt(r,g,v),n.assignFinalMaterial(g),d.push(g)}for(let h=0,p=d.length;h<p;h++)n.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return d[0];const f=new Cn;n.associations.set(f,{meshes:e});for(let h=0,p=d.length;h<p;h++)f.add(d[h]);return f})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new Ts(Je.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new il(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),ze(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i={joints:n.joints};return n.inverseBindMatrices===void 0?Promise.resolve(i):this.getDependency("accessor",n.inverseBindMatrices).then(function(r){return i.inverseBindMatrices=r,i})}loadAnimation(e){const i=this.json.animations[e],r=[],s=[],o=[],a=[],l=[];for(let c=0,u=i.channels.length;c<u;c++){const d=i.channels[c],f=i.samplers[d.sampler],h=d.target,p=h.node!==void 0?h.node:h.id,m=i.parameters!==void 0?i.parameters[f.input]:f.input,v=i.parameters!==void 0?i.parameters[f.output]:f.output;r.push(this.getDependency("node",p)),s.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",v)),a.push(f),l.push(h)}return Promise.all([Promise.all(r),Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],p=c[4],m=[];for(let g=0,x=u.length;g<x;g++){const y=u[g],T=d[g],A=f[g],L=h[g],P=p[g];if(y===void 0)continue;y.updateMatrix(),y.matrixAutoUpdate=!0;let V;switch(Re[P.path]){case Re.weights:V=yl;break;case Re.rotation:V=tr;break;case Re.position:case Re.scale:default:V=vl;break}const R=y.name?y.name:y.uuid,j=L.interpolation!==void 0?zc[L.interpolation]:Rs,W=[];Re[P.path]===Re.weights?y.traverse(function(N){N.morphTargetInfluences&&W.push(N.name?N.name:N.uuid)}):W.push(R);let z=A.array;if(A.normalized){const N=Yn(z.constructor),K=new Float32Array(z.length);for(let G=0,k=z.length;G<k;G++)K[G]=z[G]*N;z=K}for(let N=0,K=W.length;N<K;N++){const G=new V(W[N]+"."+Re[P.path],T.array,z,j);L.interpolation==="CUBICSPLINE"&&(G.createInterpolant=function(H){const te=this instanceof tr?Uc:Ge;return new te(this.times,this.values,this.getValueSize()/3,H)},G.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(G)}}const v=i.name?i.name:"animation_"+e;return new rl(v,void 0,m)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const n=this.json,i=this.extensions,r=this,s=n.nodes[e],o=s.name?r.createUniqueName(s.name):"";return function(){const a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(s.isBone===!0?l=new sl:a.length>1?l=new Cn:a.length===1?l=a[0]:l=new Es,l!==a[0])for(let c=0,u=a.length;c<u;c++)l.add(a[c]);if(s.name&&(l.userData.name=s.name,l.name=o),ze(l,s),s.extensions&&dt(i,l,s),s.matrix!==void 0){const c=new fn;c.fromArray(s.matrix),l.applyMatrix4(c)}else s.translation!==void 0&&l.position.fromArray(s.translation),s.rotation!==void 0&&l.quaternion.fromArray(s.rotation),s.scale!==void 0&&l.scale.fromArray(s.scale);return r.associations.has(l)||r.associations.set(l,{}),r.associations.get(l).nodes=e,l})}loadScene(e){const n=this.json,i=this.extensions,r=this.json.scenes[e],s=this,o=new Cn;r.name&&(o.name=s.createUniqueName(r.name)),ze(o,r),r.extensions&&dt(i,o,r);const a=r.nodes||[],l=[];for(let c=0,u=a.length;c<u;c++)l.push(Hs(a[c],o,n,s));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,h]of s.associations)(f instanceof Mn||f instanceof er)&&d.set(f,h);return u.traverse(f=>{const h=s.associations.get(f);h!=null&&d.set(f,h)}),d};return s.associations=c(o),o})}}function Hs(t,e,n,i){const r=n.nodes[t];return i.getDependency("node",t).then(function(s){if(r.skin===void 0)return s;let o;return i.getDependency("skin",r.skin).then(function(a){o=a;const l=[];for(let c=0,u=o.joints.length;c<u;c++)l.push(i.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return s.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=a.length;d<f;d++){const h=a[d];if(h){c.push(h);const p=new fn;o.inverseBindMatrices!==void 0&&p.fromArray(o.inverseBindMatrices.array,d*16),u.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[d])}l.bind(new ol(c,u),l.matrixWorld)}),s})}).then(function(s){e.add(s);const o=[];if(r.children){const a=r.children;for(let l=0,c=a.length;l<c;l++){const u=a[l];o.push(Hs(u,s,n,i))}}return Promise.all(o)})}function Wc(t,e,n){const i=e.attributes,r=new xl;if(i.POSITION!==void 0){const a=n.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new D(l[0],l[1],l[2]),new D(c[0],c[1],c[2])),a.normalized){const u=Yn(Tt[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new D,l=new D;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],h=f.min,p=f.max;if(h!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),f.normalized){const m=Yn(Tt[f.componentType]);l.multiplyScalar(m)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}t.boundingBox=r;const o=new wl;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=o}function pr(t,e,n){const i=e.attributes,r=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in i){const a=Wn[o]||o.toLowerCase();a in t.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});r.push(o)}return ze(t,e),Wc(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?Bc(t,e.targets,n):t})}function mr(t,e){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(e===Is)for(let o=1;o<=i;o++)r.push(n.getX(0)),r.push(n.getX(o)),r.push(n.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(n.getX(o)),r.push(n.getX(o+1)),r.push(n.getX(o+2))):(r.push(n.getX(o+2)),r.push(n.getX(o+1)),r.push(n.getX(o)));r.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(r),s}class Yc extends $e{constructor(n){super();w(this,"sources");w(this,"items");w(this,"toLoad");w(this,"loaded");w(this,"loaders");w(this,"application");w(this,"loading");this.sources=n,this.items={texture:{},cubeTexture:{},gltfModel:{},audio:{}},this.toLoad=this.sources.length,this.loaded=0,this.application=new oe,this.loading=this.application.loading,this.setLoaders(),this.startLoading()}setLoaders(){this.loaders={gltfLoader:new wc,textureLoader:new Ls,cubeTextureLoader:new Sl,audioLoader:new Al}}startLoading(){for(const n of this.sources)n.type==="gltfModel"?this.loaders.gltfLoader.load(n.path,i=>{this.sourceLoaded(n,i)}):n.type==="texture"?this.loaders.textureLoader.load(n.path,i=>{i.encoding=rt,this.sourceLoaded(n,i)}):n.type==="cubeTexture"?this.loaders.cubeTextureLoader.load(n.path,i=>{this.sourceLoaded(n,i)}):n.type==="audio"&&this.loaders.audioLoader.load(n.path,i=>{this.sourceLoaded(n,i)})}sourceLoaded(n,i){this.items[n.type][n.name]=i,this.loaded++,this.loading.trigger("loadedSource",[n.name,this.loaded,this.toLoad]),this.loaded===this.toLoad&&this.trigger("ready")}}const Xc=[{name:"computerSetupModel",type:"gltfModel",path:"models/Computer/computer_setup.glb"},{name:"computerSetupTexture",type:"texture",path:"models/Computer/baked_computer.jpg"},{name:"environmentModel",type:"gltfModel",path:"models/World/environment.glb"},{name:"environmentTexture",type:"texture",path:"models/World/baked_environment.jpg"},{name:"decorModel",type:"gltfModel",path:"models/Decor/decor.glb"},{name:"decorTexture",type:"texture",path:"models/Decor/baked_decor_modified.jpg"},{name:"monitorSmudgeTexture",type:"texture",path:"textures/monitor/layers/compressed/smudges.jpg"},{name:"monitorShadowTexture",type:"texture",path:"textures/monitor/layers/compressed/shadow-compressed.png"},{name:"mouseDown",type:"audio",path:"audio/mouse/mouse_down.mp3"},{name:"mouseUp",type:"audio",path:"audio/mouse/mouse_up.mp3"},{name:"keyboardKeydown1",type:"audio",path:"audio/keyboard/key_1.mp3"},{name:"keyboardKeydown2",type:"audio",path:"audio/keyboard/key_2.mp3"},{name:"keyboardKeydown3",type:"audio",path:"audio/keyboard/key_3.mp3"},{name:"keyboardKeydown4",type:"audio",path:"audio/keyboard/key_4.mp3"},{name:"keyboardKeydown5",type:"audio",path:"audio/keyboard/key_5.mp3"},{name:"keyboardKeydown6",type:"audio",path:"audio/keyboard/key_6.mp3"},{name:"startup",type:"audio",path:"audio/startup/startup.mp3"},{name:"office",type:"audio",path:"audio/atmosphere/office.mp3"},{name:"ccType",type:"audio",path:"audio/cc/type.mp3"}];var Bs={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Tl,function(){var n=function(){function i(h){return o.appendChild(h.dom),h}function r(h){for(var p=0;p<o.children.length;p++)o.children[p].style.display=p===h?"block":"none";s=h}var s=0,o=document.createElement("div");o.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",o.addEventListener("click",function(h){h.preventDefault(),r(++s%o.children.length)},!1);var a=(performance||Date).now(),l=a,c=0,u=i(new n.Panel("FPS","#0ff","#002")),d=i(new n.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var f=i(new n.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:o,addPanel:i,showPanel:r,begin:function(){a=(performance||Date).now()},end:function(){c++;var h=(performance||Date).now();if(d.update(h-a,200),h>l+1e3&&(u.update(1e3*c/(h-l),100),l=h,c=0,f)){var p=performance.memory;f.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576)}return h},update:function(){a=this.end()},domElement:o,setMode:r}};return n.Panel=function(i,r,s){var o=1/0,a=0,l=Math.round,c=l(window.devicePixelRatio||1),u=80*c,d=48*c,f=3*c,h=2*c,p=3*c,m=15*c,v=74*c,g=30*c,x=document.createElement("canvas");x.width=u,x.height=d,x.style.cssText="width:80px;height:48px";var y=x.getContext("2d");return y.font="bold "+9*c+"px Helvetica,Arial,sans-serif",y.textBaseline="top",y.fillStyle=s,y.fillRect(0,0,u,d),y.fillStyle=r,y.fillText(i,f,h),y.fillRect(p,m,v,g),y.fillStyle=s,y.globalAlpha=.9,y.fillRect(p,m,v,g),{dom:x,update:function(T,A){o=Math.min(o,T),a=Math.max(a,T),y.fillStyle=s,y.globalAlpha=1,y.fillRect(0,0,u,m),y.fillStyle=r,y.fillText(l(T)+" "+i+" ("+l(o)+"-"+l(a)+")",f,h),y.drawImage(x,p+c,m,v-c,g,p,m,v-c,g),y.fillRect(p+v-c,m,c,g),y.fillStyle=s,y.globalAlpha=.9,y.fillRect(p+v-c,m,c,l((1-T/A)*g))}}},n})})(Bs);var qc=Bs.exports;const Zc=Os(qc);class Jc extends $e{constructor(){super();w(this,"progress");w(this,"application");w(this,"resources");w(this,"scene");this.application=new oe,this.resources=this.application.resources,this.scene=this.application.scene,this.on("loadedSource",(n,i,r)=>{this.progress=i/r,ee.dispatch("loadedSource",{sourceName:n,progress:i/r,toLoad:r,loaded:i})})}}var Gs={exports:{}},Ot={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=S,$s=60103;Ot.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var gr=Symbol.for;$s=gr("react.element"),Ot.Fragment=gr("react.fragment")}var eu=Qc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tu=Object.prototype.hasOwnProperty,nu={key:!0,ref:!0,__self:!0,__source:!0};function Ks(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)tu.call(e,i)&&!nu.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:$s,type:t,key:s,ref:o,props:r,_owner:eu.current}}Ot.jsx=Ks;Ot.jsxs=Ks;Gs.exports=Ot;var yi=Gs.exports;const en=yi.Fragment,C=yi.jsx,Y=yi.jsxs,iu=()=>{const[t,e]=S.useState(0),[n,i]=S.useState(0),[r,s]=S.useState(0),[o,a]=S.useState(1),[l,c]=S.useState(1),[u,d]=S.useState(0);S.useState(0);const[f,h]=S.useState(0),[p,m]=S.useState(!1),[v,g]=S.useState(!1),[x,y]=S.useState(!1),[T,A]=S.useState(!1),[L,P]=S.useState(0),[V]=S.useState([]),[R,j]=S.useState(window.innerWidth<768),W=()=>{window.innerWidth<768?j(!0):j(!1)};window.addEventListener("resize",W),S.useEffect(()=>{new URLSearchParams(window.location.search).has("debug")?z():G()?m(!0):A(!0)},[]),S.useEffect(()=>{ee.on("loadedSource",k=>{e(k.progress),i(k.toLoad),s(k.loaded),V.push(`Loaded ${k.sourceName}${N(k.sourceName)} ... ${Math.round(k.progress*100)}%`),V.length>8&&V.shift()})},[]),S.useEffect(()=>{g(!0),P(L+1)},[r]),S.useEffect(()=>{t>=1&&!T&&(y(!0),setTimeout(()=>{c(0),setTimeout(()=>{d(1)},500)},1e3))},[t]),S.useEffect(()=>{T&&setTimeout(()=>{h(1)},500)},[T]);const z=S.useCallback(()=>{a(0),ee.dispatch("loadingScreenDone",{});const k=document.getElementById("ui");k&&(k.style.pointerEvents="none")},[]),N=k=>{let H="";for(let te=0;te<24-k.length;te++)H+=" ";return H},K=()=>{const k=new Date,H=k.getMonth()+1,te=k.getDate(),fe=k.getFullYear(),Pe=H<10?`0${H}`:H,he=te<10?`0${te}`:te;return`${Pe}/${he}/${fe}`},G=()=>{var k=document.createElement("canvas"),H=k.getContext("webgl")||k.getContext("experimental-webgl");return!!(H&&H instanceof WebGLRenderingContext)};return Y("div",{style:Object.assign({},$.overlay,{opacity:o,transform:`scale(${o===0?1.1:1})`}),children:[u===0&&l===0&&C("div",{style:$.blinkingContainer,children:C("span",{className:"blinking-cursor"})}),!T&&Y("div",{style:Object.assign({},$.overlayText,{opacity:l}),children:[Y("div",{style:$.header,className:"loading-screen-header",children:[C("div",{style:$.logoContainer,children:C("div",{children:C("p",{style:$.pink,children:C("b",{children:"Jennifer Amaya Inc."})})})}),Y("div",{style:$.headerInfo,children:[C("p",{children:"Released: 01/08/2025"}),C("p",{children:"JABIOS (C)2025 Jennifer Amaya Inc.,"})]})]}),Y("div",{style:$.body,className:"loading-screen-body",children:[C("p",{children:"JAP S13 1997-2025 Special UC131S"}),C("div",{style:$.spacer}),p&&Y(en,{children:[C("p",{children:"JAP Showcase(tm) XX 113"}),Y("p",{children:["Checking RAM : ",14e3," OK"]}),C("div",{style:$.spacer}),C("div",{style:$.spacer}),v?t==1?C("p",{children:"FINISHED LOADING RESOURCES"}):Y("p",{className:"loading",children:["LOADING RESOURCES (",r,"/",n===0?"-":n,")"]}):C("p",{className:"loading",children:"WAIT"})]}),C("div",{style:$.spacer}),C("div",{style:$.resourcesLoadingList,children:V.map(k=>C("p",{children:k},k))}),C("div",{style:$.spacer}),v&&x&&Y("p",{children:["All Content Loaded, launching"," ",C("b",{style:$.pink,children:"'Jennifer Amaya Portfolio Showcase'"})," ","V1.0"]}),C("div",{style:$.spacer}),C("span",{className:"blinking-cursor"})]}),Y("div",{style:$.footer,className:"loading-screen-footer",children:[Y("p",{children:["Press ",C("b",{children:"DEL"})," to enter SETUP , ",C("b",{children:"ESC"})," to skip memory test"]}),C("p",{children:K()})]})]}),C("div",{style:Object.assign({},$.popupContainer,{opacity:u}),children:Y("div",{style:$.startPopup,children:[C("p",{children:"Jennifer Amaya Portfolio Showcase 2025"}),R&&Y(en,{children:[C("br",{}),Y("b",{children:[C("p",{style:$.warning,children:"WARNING: This experience is best viewed on"}),C("p",{style:$.warning,children:"a desktop or laptop computer."})]}),C("br",{})]}),Y("div",{style:{display:"flex",alignItems:"flex-end"},children:[Y("p",{children:["Click start to begin"," "]}),C("span",{className:"blinking-cursor"})]}),C("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"16px"},children:C("div",{className:"bios-start-button",onClick:z,children:C("p",{children:"START"})})})]})}),T&&C("div",{style:Object.assign({},$.popupContainer,{opacity:f}),children:Y("div",{style:$.startPopup,children:[Y("p",{children:[C("b",{style:{color:"red"},children:"CRITICAL ERROR:"})," No WebGL Detected"]}),C("div",{style:$.spacer}),C("div",{style:$.spacer}),C("p",{children:"WebGL is required to run this site."}),C("p",{children:"Please enable it or switch to a browser which supports WebGL"})]})})]})},$={overlay:{backgroundColor:"black",width:"100%",height:"100%",display:"flex",transition:"opacity 0.2s, transform 0.2s",MozTransition:"opacity 0.2s, transform 0.2s",WebkitTransition:"opacity 0.2s, transform 0.2s",OTransition:"opacity 0.2s, transform 0.2s",msTransition:"opacity 0.2s, transform 0.2s",transitionTimingFunction:"ease-in-out",MozTransitionTimingFunction:"ease-in-out",WebkitTransitionTimingFunction:"ease-in-out",OTransitionTimingFunction:"ease-in-out",msTransitionTimingFunction:"ease-in-out",boxSizing:"border-box",fontSize:16,letterSpacing:.8},spacer:{height:16},header:{width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"row"},popupContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},warning:{color:"yellow"},blinkingContainer:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",boxSizing:"border-box",padding:48},startPopup:{backgroundColor:"#000",padding:24,border:"7px solid #e91e63",display:"flex",flexDirection:"column",justifyContent:"center",maxWidth:500},headerInfo:{marginLeft:64},red:{color:"#00ff00"},pink:{color:"#e91e63"},link:{color:"#4598ff",cursor:"pointer"},overlayText:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between"},body:{flex:1,display:"flex",width:"100%",boxSizing:"border-box",flexDirection:"column"},logoContainer:{display:"flex",flexDirection:"row"},resourcesLoadingList:{display:"flex",paddingLeft:32,paddingBottom:32,flexDirection:"column"},logoImage:{width:64,height:42,imageRendering:"pixelated",marginRight:16},footer:{boxSizing:"border-box",width:"100%"}};var Xn=function(t,e){return Xn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},Xn(t,e)};function Ws(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xn(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var E=function(){return E=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},E.apply(this,arguments)};function le(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function q(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function be(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var ru="production",Ys=typeof process>"u"||process.env===void 0?ru:"production",Ee=function(t){return{isEnabled:function(e){return t.some(function(n){return!!e[n]})}}},Et={measureLayout:Ee(["layout","layoutId","drag"]),animation:Ee(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Ee(["exit"]),drag:Ee(["drag","dragControls"]),focus:Ee(["whileFocus"]),hover:Ee(["whileHover","onHoverStart","onHoverEnd"]),tap:Ee(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Ee(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Ee(["whileInView","onViewportEnter","onViewportLeave"])};function su(t){for(var e in t)t[e]!==null&&(e==="projectionNodeConstructor"?Et.projectionNodeConstructor=t[e]:Et[e].Component=t[e])}var ou=function(){},tn=function(){},Xs=S.createContext({strict:!1}),qs=Object.keys(Et),au=qs.length;function lu(t,e,n){var i=[],r=S.useContext(Xs);if(!e)return null;Ys!=="production"&&n&&r.strict;for(var s=0;s<au;s++){var o=qs[s],a=Et[o],l=a.isEnabled,c=a.Component;l(t)&&c&&i.push(S.createElement(c,E({key:o},t,{visualElement:e})))}return i}var bi=S.createContext({transformPagePoint:function(t){return t},isStatic:!1,reducedMotion:"never"}),hn=S.createContext({});function cu(){return S.useContext(hn).visualElement}var pn=S.createContext(null),lt=typeof document<"u",vr=lt?S.useLayoutEffect:S.useEffect,qn={current:null},Zs=!1;function uu(){if(Zs=!0,!!lt)if(window.matchMedia){var t=window.matchMedia("(prefers-reduced-motion)"),e=function(){return qn.current=t.matches};t.addListener(e),e()}else qn.current=!1}function du(){!Zs&&uu();var t=q(S.useState(qn.current),1),e=t[0];return e}function fu(){var t=du(),e=S.useContext(bi).reducedMotion;return e==="never"?!1:e==="always"?!0:t}function hu(t,e,n,i){var r=S.useContext(Xs),s=cu(),o=S.useContext(pn),a=fu(),l=S.useRef(void 0);i||(i=r.renderer),!l.current&&i&&(l.current=i(t,{visualState:e,parent:s,props:n,presenceId:o==null?void 0:o.id,blockInitialAnimation:(o==null?void 0:o.initial)===!1,shouldReduceMotion:a}));var c=l.current;return vr(function(){c==null||c.syncRender()}),S.useEffect(function(){var u;(u=c==null?void 0:c.animationState)===null||u===void 0||u.animateChanges()}),vr(function(){return function(){return c==null?void 0:c.notifyUnmount()}},[]),c}function et(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pu(t,e,n){return S.useCallback(function(i){var r;i&&((r=t.mount)===null||r===void 0||r.call(t,i)),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):et(n)&&(n.current=i))},[e])}function Js(t){return Array.isArray(t)}function de(t){return typeof t=="string"||Js(t)}function mu(t){var e={};return t.forEachValue(function(n,i){return e[i]=n.get()}),e}function gu(t){var e={};return t.forEachValue(function(n,i){return e[i]=n.getVelocity()}),e}function Qs(t,e,n,i,r){var s;return i===void 0&&(i={}),r===void 0&&(r={}),typeof e=="function"&&(e=e(n??t.custom,i,r)),typeof e=="string"&&(e=(s=t.variants)===null||s===void 0?void 0:s[e]),typeof e=="function"&&(e=e(n??t.custom,i,r)),e}function mn(t,e,n){var i=t.getProps();return Qs(i,e,n??i.custom,mu(t),gu(t))}function gn(t){var e;return typeof((e=t.animate)===null||e===void 0?void 0:e.start)=="function"||de(t.initial)||de(t.animate)||de(t.whileHover)||de(t.whileDrag)||de(t.whileTap)||de(t.whileFocus)||de(t.exit)}function eo(t){return!!(gn(t)||t.variants)}function vu(t,e){if(gn(t)){var n=t.initial,i=t.animate;return{initial:n===!1||de(n)?n:void 0,animate:de(i)?i:void 0}}return t.inherit!==!1?e:{}}function yu(t){var e=vu(t,S.useContext(hn)),n=e.initial,i=e.animate;return S.useMemo(function(){return{initial:n,animate:i}},[yr(n),yr(i)])}function yr(t){return Array.isArray(t)?t.join(" "):t}function vn(t){var e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}var gt={hasAnimatedSinceResize:!0,hasEverUpdated:!1},bu=1;function xu(){return vn(function(){if(gt.hasEverUpdated)return bu++})}var to=S.createContext({}),no=S.createContext({});function wu(t,e,n,i){var r,s=e.layoutId,o=e.layout,a=e.drag,l=e.dragConstraints,c=e.layoutScroll,u=S.useContext(no);!i||!n||n!=null&&n.projection||(n.projection=new i(t,n.getLatestValues(),(r=n.parent)===null||r===void 0?void 0:r.projection),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||l&&et(l),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:typeof o=="string"?o:"both",initialPromotionConfig:u,layoutScroll:c}))}var Su=function(t){Ws(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var n=this.props,i=n.visualElement,r=n.props;i&&i.setProps(r)},e.prototype.render=function(){return this.props.children},e}(pi.Component);function Au(t){var e=t.preloadedFeatures,n=t.createVisualElement,i=t.projectionNodeConstructor,r=t.useRender,s=t.useVisualState,o=t.Component;e&&su(e);function a(l,c){var u=Tu(l);l=E(E({},l),{layoutId:u});var d=S.useContext(bi),f=null,h=yu(l),p=d.isStatic?void 0:xu(),m=s(l,d.isStatic);return!d.isStatic&&lt&&(h.visualElement=hu(o,m,E(E({},d),l),n),wu(p,l,h.visualElement,i||Et.projectionNodeConstructor),f=lu(l,h.visualElement,e)),S.createElement(Su,{visualElement:h.visualElement,props:E(E({},d),l)},f,S.createElement(hn.Provider,{value:h},r(o,l,p,pu(m,h.visualElement,c),m,d.isStatic,h.visualElement)))}return S.forwardRef(a)}function Tu(t){var e,n=t.layoutId,i=(e=S.useContext(to))===null||e===void 0?void 0:e.id;return i&&n!==void 0?i+"-"+n:n}function Eu(t){function e(i,r){return r===void 0&&(r={}),Au(t(i,r))}if(typeof Proxy>"u")return e;var n=new Map;return new Proxy(e,{get:function(i,r){return n.has(r)||n.set(r,e(r)),n.get(r)}})}var Mu=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function xi(t){return typeof t!="string"||t.includes("-")?!1:!!(Mu.indexOf(t)>-1||/[A-Z]/.test(t))}var nn={};function Cu(t){Object.assign(nn,t)}var Zn=["","X","Y","Z"],Lu=["translate","scale","rotate","skew"],Mt=["transformPerspective","x","y","z"];Lu.forEach(function(t){return Zn.forEach(function(e){return Mt.push(t+e)})});function Pu(t,e){return Mt.indexOf(t)-Mt.indexOf(e)}var _u=new Set(Mt);function Dt(t){return _u.has(t)}var Ru=new Set(["originX","originY","originZ"]);function io(t){return Ru.has(t)}function ro(t,e){var n=e.layout,i=e.layoutId;return Dt(t)||io(t)||(n||i!==void 0)&&(!!nn[t]||t==="opacity")}var Me=function(t){return!!(t!==null&&typeof t=="object"&&t.getVelocity)},Iu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Ou(t,e,n,i){var r=t.transform,s=t.transformKeys,o=e.enableHardwareAcceleration,a=o===void 0?!0:o,l=e.allowTransformNone,c=l===void 0?!0:l,u="";s.sort(Pu);for(var d=!1,f=s.length,h=0;h<f;h++){var p=s[h];u+="".concat(Iu[p]||p,"(").concat(r[p],") "),p==="z"&&(d=!0)}return!d&&a?u+="translateZ(0)":u=u.trim(),i?u=i(r,n?"":u):c&&n&&(u="none"),u}function Du(t){var e=t.originX,n=e===void 0?"50%":e,i=t.originY,r=i===void 0?"50%":i,s=t.originZ,o=s===void 0?0:s;return"".concat(n," ").concat(r," ").concat(o)}function so(t){return t.startsWith("--")}var Vu=function(t,e){return e&&typeof t=="number"?e.transform(t):t};const oo=(t,e)=>n=>Math.max(Math.min(n,e),t),vt=t=>t%1?Number(t.toFixed(5)):t,Ct=/(-)?([\d]*\.?[\d])+/g,Jn=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,ku=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Vt(t){return typeof t=="string"}const Ke={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yt=Object.assign(Object.assign({},Ke),{transform:oo(0,1)}),zt=Object.assign(Object.assign({},Ke),{default:1}),kt=t=>({test:e=>Vt(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Oe=kt("deg"),xe=kt("%"),I=kt("px"),Fu=kt("vh"),Nu=kt("vw"),br=Object.assign(Object.assign({},xe),{parse:t=>xe.parse(t)/100,transform:t=>xe.transform(t*100)}),wi=(t,e)=>n=>!!(Vt(n)&&ku.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ao=(t,e,n)=>i=>{if(!Vt(i))return i;const[r,s,o,a]=i.match(Ct);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},He={test:wi("hsl","hue"),parse:ao("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+xe.transform(vt(e))+", "+xe.transform(vt(n))+", "+vt(yt.transform(i))+")"},ju=oo(0,255),In=Object.assign(Object.assign({},Ke),{transform:t=>Math.round(ju(t))}),ke={test:wi("rgb","red"),parse:ao("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+In.transform(t)+", "+In.transform(e)+", "+In.transform(n)+", "+vt(yt.transform(i))+")"};function Uu(t){let e="",n="",i="",r="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),i=t.substr(5,2),r=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),i=t.substr(3,1),r=t.substr(4,1),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Qn={test:wi("#"),parse:Uu,transform:ke.transform},se={test:t=>ke.test(t)||Qn.test(t)||He.test(t),parse:t=>ke.test(t)?ke.parse(t):He.test(t)?He.parse(t):Qn.parse(t),transform:t=>Vt(t)?t:t.hasOwnProperty("red")?ke.transform(t):He.transform(t)},lo="${c}",co="${n}";function zu(t){var e,n,i,r;return isNaN(t)&&Vt(t)&&((n=(e=t.match(Ct))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((r=(i=t.match(Jn))===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0)>0}function uo(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const i=t.match(Jn);i&&(n=i.length,t=t.replace(Jn,lo),e.push(...i.map(se.parse)));const r=t.match(Ct);return r&&(t=t.replace(Ct,co),e.push(...r.map(Ke.parse))),{values:e,numColors:n,tokenised:t}}function fo(t){return uo(t).values}function ho(t){const{values:e,numColors:n,tokenised:i}=uo(t),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<n?lo:co,a<n?se.transform(s[a]):vt(s[a]));return o}}const Hu=t=>typeof t=="number"?0:t;function Bu(t){const e=fo(t);return ho(t)(e.map(Hu))}const Ce={test:zu,parse:fo,createTransformer:ho,getAnimatableNone:Bu},Gu=new Set(["brightness","contrast","saturate","opacity"]);function $u(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Ct)||[];if(!i)return t;const r=n.replace(i,"");let s=Gu.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Ku=/([a-z-]*)\(.*?\)/g,ei=Object.assign(Object.assign({},Ce),{getAnimatableNone:t=>{const e=t.match(Ku);return e?e.map($u).join(" "):t}});var xr=E(E({},Ke),{transform:Math.round}),po={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,radius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,size:I,top:I,right:I,bottom:I,left:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,rotate:Oe,rotateX:Oe,rotateY:Oe,rotateZ:Oe,scale:zt,scaleX:zt,scaleY:zt,scaleZ:zt,skew:Oe,skewX:Oe,skewY:Oe,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:yt,originX:br,originY:br,originZ:I,zIndex:xr,fillOpacity:yt,strokeOpacity:yt,numOctaves:xr};function Si(t,e,n,i){var r,s=t.style,o=t.vars,a=t.transform,l=t.transformKeys,c=t.transformOrigin;l.length=0;var u=!1,d=!1,f=!0;for(var h in e){var p=e[h];if(so(h)){o[h]=p;continue}var m=po[h],v=Vu(p,m);if(Dt(h)){if(u=!0,a[h]=v,l.push(h),!f)continue;p!==((r=m.default)!==null&&r!==void 0?r:0)&&(f=!1)}else io(h)?(c[h]=v,d=!0):s[h]=v}u?s.transform=Ou(t,n,f,i):i?s.transform=i({},""):!e.transform&&s.transform&&(s.transform="none"),d&&(s.transformOrigin=Du(c))}var Ai=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function mo(t,e,n){for(var i in e)!Me(e[i])&&!ro(i,n)&&(t[i]=e[i])}function Wu(t,e,n){var i=t.transformTemplate;return S.useMemo(function(){var r=Ai();Si(r,e,{enableHardwareAcceleration:!n},i);var s=r.vars,o=r.style;return E(E({},s),o)},[e])}function Yu(t,e,n){var i=t.style||{},r={};return mo(r,i,t),Object.assign(r,Wu(t,e,n)),t.transformValues&&(r=t.transformValues(r)),r}function Xu(t,e,n){var i={},r=Yu(t,e,n);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":"pan-".concat(t.drag==="x"?"y":"x")),i.style=r,i}var qu=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function rn(t){return qu.has(t)}var go=function(t){return!rn(t)};function Zu(t){t&&(go=function(e){return e.startsWith("on")?!rn(e):t(e)})}try{Zu(require("@emotion/is-prop-valid").default)}catch{}function Ju(t,e,n){var i={};for(var r in t)(go(r)||n===!0&&rn(r)||!e&&!rn(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function wr(t,e,n){return typeof t=="string"?t:I.transform(e+n*t)}function Qu(t,e,n){var i=wr(e,t.x,t.width),r=wr(n,t.y,t.height);return"".concat(i," ").concat(r)}var ed={offset:"stroke-dashoffset",array:"stroke-dasharray"},td={offset:"strokeDashoffset",array:"strokeDasharray"};function nd(t,e,n,i,r){n===void 0&&(n=1),i===void 0&&(i=0),r===void 0&&(r=!0),t.pathLength=1;var s=r?ed:td;t[s.offset]=I.transform(-i);var o=I.transform(e),a=I.transform(n);t[s.array]="".concat(o," ").concat(a)}function Ti(t,e,n,i){var r=e.attrX,s=e.attrY,o=e.originX,a=e.originY,l=e.pathLength,c=e.pathSpacing,u=c===void 0?1:c,d=e.pathOffset,f=d===void 0?0:d,h=le(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);Si(t,h,n,i),t.attrs=t.style,t.style={};var p=t.attrs,m=t.style,v=t.dimensions;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(o!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=Qu(v,o!==void 0?o:.5,a!==void 0?a:.5)),r!==void 0&&(p.x=r),s!==void 0&&(p.y=s),l!==void 0&&nd(p,l,u,f,!1)}var vo=function(){return E(E({},Ai()),{attrs:{}})};function id(t,e){var n=S.useMemo(function(){var r=vo();return Ti(r,e,{enableHardwareAcceleration:!1},t.transformTemplate),E(E({},r.attrs),{style:E({},r.style)})},[e]);if(t.style){var i={};mo(i,t.style,t),n.style=E(E({},i),n.style)}return n}function rd(t){t===void 0&&(t=!1);var e=function(n,i,r,s,o,a){var l=o.latestValues,c=xi(n)?id:Xu,u=c(i,l,a),d=Ju(i,typeof n=="string",t),f=E(E(E({},d),u),{ref:s});return r&&(f["data-projection-id"]=r),S.createElement(n,f)};return e}var sd=/([a-z])([A-Z])/g,od="$1-$2",yo=function(t){return t.replace(sd,od).toLowerCase()};function bo(t,e,n,i){var r=e.style,s=e.vars;Object.assign(t.style,r,i&&i.getProjectionStyles(n));for(var o in s)t.style.setProperty(o,s[o])}var xo=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function wo(t,e,n,i){bo(t,e,void 0,i);for(var r in e.attrs)t.setAttribute(xo.has(r)?r:yo(r),e.attrs[r])}function Ei(t){var e=t.style,n={};for(var i in e)(Me(e[i])||ro(i,t))&&(n[i]=e[i]);return n}function So(t){var e=Ei(t);for(var n in t)if(Me(t[n])){var i=n==="x"||n==="y"?"attr"+n.toUpperCase():n;e[i]=t[n]}return e}function Mi(t){return typeof t=="object"&&typeof t.start=="function"}var Lt=function(t){return Array.isArray(t)},ad=function(t){return!!(t&&typeof t=="object"&&t.mix&&t.toValue)},Ao=function(t){return Lt(t)?t[t.length-1]||0:t};function Yt(t){var e=Me(t)?t.get():t;return ad(e)?e.toValue():e}function Sr(t,e,n,i){var r=t.scrapeMotionValuesFromProps,s=t.createRenderState,o=t.onMount,a={latestValues:ld(e,n,i,r),renderState:s()};return o&&(a.mount=function(l){return o(e,l,a)}),a}var To=function(t){return function(e,n){var i=S.useContext(hn),r=S.useContext(pn);return n?Sr(t,e,i,r):vn(function(){return Sr(t,e,i,r)})}};function ld(t,e,n,i){var r={},s=(n==null?void 0:n.initial)===!1,o=i(t);for(var a in o)r[a]=Yt(o[a]);var l=t.initial,c=t.animate,u=gn(t),d=eo(t);e&&d&&!u&&t.inherit!==!1&&(l??(l=e.initial),c??(c=e.animate));var f=s||l===!1,h=f?c:l;if(h&&typeof h!="boolean"&&!Mi(h)){var p=Array.isArray(h)?h:[h];p.forEach(function(m){var v=Qs(t,m);if(v){var g=v.transitionEnd;v.transition;var x=le(v,["transitionEnd","transition"]);for(var y in x){var T=x[y];if(Array.isArray(T)){var A=f?T.length-1:0;T=T[A]}T!==null&&(r[y]=T)}for(var y in g)r[y]=g[y]}})}return r}var cd={useVisualState:To({scrapeMotionValuesFromProps:So,createRenderState:vo,onMount:function(t,e,n){var i=n.renderState,r=n.latestValues;try{i.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}Ti(i,r,{enableHardwareAcceleration:!1},t.transformTemplate),wo(e,i)}})},ud={useVisualState:To({scrapeMotionValuesFromProps:Ei,createRenderState:Ai})};function dd(t,e,n,i,r){var s=e.forwardMotionProps,o=s===void 0?!1:s,a=xi(t)?cd:ud;return E(E({},a),{preloadedFeatures:n,useRender:rd(o),createVisualElement:i,projectionNodeConstructor:r,Component:t})}var B;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(B||(B={}));function yn(t,e,n,i){return i===void 0&&(i={passive:!0}),t.addEventListener(e,n,i),function(){return t.removeEventListener(e,n)}}function ti(t,e,n,i){S.useEffect(function(){var r=t.current;if(n&&r)return yn(r,e,n,i)},[t,e,n,i])}function fd(t){var e=t.whileFocus,n=t.visualElement,i=function(){var s;(s=n.animationState)===null||s===void 0||s.setActive(B.Focus,!0)},r=function(){var s;(s=n.animationState)===null||s===void 0||s.setActive(B.Focus,!1)};ti(n,"focus",e?i:void 0),ti(n,"blur",e?r:void 0)}function Eo(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function Mo(t){var e=!!t.touches;return e}function hd(t){return function(e){var n=e instanceof MouseEvent,i=!n||n&&e.button===0;i&&t(e)}}var pd={pageX:0,pageY:0};function md(t,e){e===void 0&&(e="page");var n=t.touches[0]||t.changedTouches[0],i=n||pd;return{x:i[e+"X"],y:i[e+"Y"]}}function gd(t,e){return e===void 0&&(e="page"),{x:t[e+"X"],y:t[e+"Y"]}}function Ci(t,e){return e===void 0&&(e="page"),{point:Mo(t)?md(t,e):gd(t,e)}}var Co=function(t,e){e===void 0&&(e=!1);var n=function(i){return t(i,Ci(i))};return e?hd(n):n},vd=function(){return lt&&window.onpointerdown===null},yd=function(){return lt&&window.ontouchstart===null},bd=function(){return lt&&window.onmousedown===null},xd={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},wd={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Lo(t){return vd()?t:yd()?wd[t]:bd()?xd[t]:t}function nt(t,e,n,i){return yn(t,Lo(e),Co(n,e==="pointerdown"),i)}function sn(t,e,n,i){return ti(t,Lo(e),n&&Co(n,e==="pointerdown"),i)}function Po(t){var e=null;return function(){var n=function(){e=null};return e===null?(e=t,n):!1}}var Ar=Po("dragHorizontal"),Tr=Po("dragVertical");function _o(t){var e=!1;if(t==="y")e=Tr();else if(t==="x")e=Ar();else{var n=Ar(),i=Tr();n&&i?e=function(){n(),i()}:(n&&n(),i&&i())}return e}function Ro(){var t=_o(!0);return t?(t(),!1):!0}function Er(t,e,n){return function(i,r){var s;!Eo(i)||Ro()||((s=t.animationState)===null||s===void 0||s.setActive(B.Hover,e),n==null||n(i,r))}}function Sd(t){var e=t.onHoverStart,n=t.onHoverEnd,i=t.whileHover,r=t.visualElement;sn(r,"pointerenter",e||i?Er(r,!0,e):void 0,{passive:!e}),sn(r,"pointerleave",n||i?Er(r,!1,n):void 0,{passive:!n})}var Io=function(t,e){return e?t===e?!0:Io(t,e.parentElement):!1};function Oo(t){return S.useEffect(function(){return function(){return t()}},[])}const on=(t,e,n)=>Math.min(Math.max(n,t),e),On=.001,Ad=.01,Mr=10,Td=.05,Ed=1;function Md({duration:t=800,bounce:e=.25,velocity:n=0,mass:i=1}){let r,s;ou(t<=Mr*1e3);let o=1-e;o=on(Td,Ed,o),t=on(Ad,Mr,t/1e3),o<1?(r=c=>{const u=c*o,d=u*t,f=u-n,h=ni(c,o),p=Math.exp(-d);return On-f/h*p},s=c=>{const d=c*o*t,f=d*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,p=Math.exp(-d),m=ni(Math.pow(c,2),o);return(-r(c)+On>0?-1:1)*((f-h)*p)/m}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-On+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=Ld(r,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const Cd=12;function Ld(t,e,n){let i=n;for(let r=1;r<Cd;r++)i=i-t(i)/e(i);return i}function ni(t,e){return t*Math.sqrt(1-e*e)}const Pd=["duration","bounce"],_d=["stiffness","damping","mass"];function Cr(t,e){return e.some(n=>t[n]!==void 0)}function Rd(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Cr(t,_d)&&Cr(t,Pd)){const n=Md(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function Li(t){var{from:e=0,to:n=1,restSpeed:i=2,restDelta:r}=t,s=le(t,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:f}=Rd(s),h=Lr,p=Lr;function m(){const v=u?-(u/1e3):0,g=n-e,x=l/(2*Math.sqrt(a*c)),y=Math.sqrt(a/c)/1e3;if(r===void 0&&(r=Math.min(Math.abs(n-e)/100,.4)),x<1){const T=ni(y,x);h=A=>{const L=Math.exp(-x*y*A);return n-L*((v+x*y*g)/T*Math.sin(T*A)+g*Math.cos(T*A))},p=A=>{const L=Math.exp(-x*y*A);return x*y*L*(Math.sin(T*A)*(v+x*y*g)/T+g*Math.cos(T*A))-L*(Math.cos(T*A)*(v+x*y*g)-T*g*Math.sin(T*A))}}else if(x===1)h=T=>n-Math.exp(-y*T)*(g+(v+y*g)*T);else{const T=y*Math.sqrt(x*x-1);h=A=>{const L=Math.exp(-x*y*A),P=Math.min(T*A,300);return n-L*((v+x*y*g)*Math.sinh(P)+T*g*Math.cosh(P))/T}}}return m(),{next:v=>{const g=h(v);if(f)o.done=v>=d;else{const x=p(v)*1e3,y=Math.abs(x)<=i,T=Math.abs(n-g)<=r;o.done=y&&T}return o.value=o.done?n:g,o},flipTarget:()=>{u=-u,[e,n]=[n,e],m()}}}Li.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const Lr=t=>0,Pt=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},X=(t,e,n)=>-n*t+n*e+t;function Dn(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pr({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Dn(l,a,t+1/3),s=Dn(l,a,t),o=Dn(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const Id=(t,e,n)=>{const i=t*t,r=e*e;return Math.sqrt(Math.max(0,n*(r-i)+i))},Od=[Qn,ke,He],_r=t=>Od.find(e=>e.test(t)),Do=(t,e)=>{let n=_r(t),i=_r(e),r=n.parse(t),s=i.parse(e);n===He&&(r=Pr(r),n=ke),i===He&&(s=Pr(s),i=ke);const o=Object.assign({},r);return a=>{for(const l in o)l!=="alpha"&&(o[l]=Id(r[l],s[l],a));return o.alpha=X(r.alpha,s.alpha,a),n.transform(o)}},ii=t=>typeof t=="number",Dd=(t,e)=>n=>e(t(n)),bn=(...t)=>t.reduce(Dd);function Vo(t,e){return ii(t)?n=>X(t,e,n):se.test(t)?Do(t,e):Fo(t,e)}const ko=(t,e)=>{const n=[...t],i=n.length,r=t.map((s,o)=>Vo(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}},Vd=(t,e)=>{const n=Object.assign(Object.assign({},t),e),i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Vo(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}};function Rr(t){const e=Ce.parse(t),n=e.length;let i=0,r=0,s=0;for(let o=0;o<n;o++)i||typeof e[o]=="number"?i++:e[o].hue!==void 0?s++:r++;return{parsed:e,numNumbers:i,numRGB:r,numHSL:s}}const Fo=(t,e)=>{const n=Ce.createTransformer(e),i=Rr(t),r=Rr(e);return i.numHSL===r.numHSL&&i.numRGB===r.numRGB&&i.numNumbers>=r.numNumbers?bn(ko(i.parsed,r.parsed),n):o=>`${o>0?e:t}`},kd=(t,e)=>n=>X(t,e,n);function Fd(t){if(typeof t=="number")return kd;if(typeof t=="string")return se.test(t)?Do:Fo;if(Array.isArray(t))return ko;if(typeof t=="object")return Vd}function Nd(t,e,n){const i=[],r=n||Fd(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=bn(l,a)}i.push(a)}return i}function jd([t,e],[n]){return i=>n(Pt(t,e,i))}function Ud(t,e){const n=t.length,i=n-1;return r=>{let s=0,o=!1;if(r<=t[0]?o=!0:r>=t[i]&&(s=i-1,o=!0),!o){let l=1;for(;l<n&&!(t[l]>r||l===i);l++);s=l-1}const a=Pt(t[s],t[s+1],r);return e[s](a)}}function No(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;tn(s===e.length),tn(!i||!Array.isArray(i)||i.length===s-1),t[0]>t[s-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const o=Nd(e,i,r),a=s===2?jd(t,o):Ud(t,o);return n?l=>a(on(t[0],t[s-1],l)):a}const xn=t=>e=>1-t(1-e),Pi=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zd=t=>e=>Math.pow(e,t),jo=t=>e=>e*e*((t+1)*e-t),Hd=t=>{const e=jo(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},Uo=1.525,Bd=4/11,Gd=8/11,$d=9/10,_i=t=>t,Ri=zd(2),Kd=xn(Ri),zo=Pi(Ri),Ho=t=>1-Math.sin(Math.acos(t)),Ii=xn(Ho),Wd=Pi(Ii),Oi=jo(Uo),Yd=xn(Oi),Xd=Pi(Oi),qd=Hd(Uo),Zd=4356/361,Jd=35442/1805,Qd=16061/1805,an=t=>{if(t===1||t===0)return t;const e=t*t;return t<Bd?7.5625*e:t<Gd?9.075*e-9.9*t+3.4:t<$d?Zd*e-Jd*t+Qd:10.8*t*t-20.52*t+10.72},ef=xn(an),tf=t=>t<.5?.5*(1-an(1-t*2)):.5*an(t*2-1)+.5;function nf(t,e){return t.map(()=>e||zo).splice(0,t.length-1)}function rf(t){const e=t.length;return t.map((n,i)=>i!==0?i/(e-1):0)}function sf(t,e){return t.map(n=>n*e)}function Xt({from:t=0,to:e=1,ease:n,offset:i,duration:r=300}){const s={done:!1,value:t},o=Array.isArray(e)?e:[t,e],a=sf(i&&i.length===o.length?i:rf(o),r);function l(){return No(a,o,{ease:Array.isArray(n)?n:nf(o,n)})}let c=l();return{next:u=>(s.value=c(u),s.done=u>=r,s),flipTarget:()=>{o.reverse(),c=l()}}}function of({velocity:t=0,from:e=0,power:n=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o={done:!1,value:e};let a=n*t;const l=e+a,c=s===void 0?l:s(l);return c!==l&&(a=c-e),{next:u=>{const d=-a*Math.exp(-u/i);return o.done=!(d>r||d<-r),o.value=o.done?c:c+d,o},flipTarget:()=>{}}}const Ir={keyframes:Xt,spring:Li,decay:of};function af(t){if(Array.isArray(t.to))return Xt;if(Ir[t.type])return Ir[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?Xt:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?Li:Xt}const Bo=1/60*1e3,lf=typeof performance<"u"?()=>performance.now():()=>Date.now(),Go=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(lf()),Bo);function cf(t){let e=[],n=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&r,f=d?e:n;return c&&o.add(l),f.indexOf(l)===-1&&(f.push(l),d&&r&&(i=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,n]=[n,e],n.length=0,i=e.length,i)for(let c=0;c<i;c++){const u=e[c];u(l),o.has(u)&&(a.schedule(u),t())}r=!1,s&&(s=!1,a.process(l))}};return a}const uf=40;let ri=!0,_t=!1,si=!1;const it={delta:0,timestamp:0},Ft=["read","update","preRender","render","postRender"],wn=Ft.reduce((t,e)=>(t[e]=cf(()=>_t=!0),t),{}),we=Ft.reduce((t,e)=>{const n=wn[e];return t[e]=(i,r=!1,s=!1)=>(_t||ff(),n.schedule(i,r,s)),t},{}),st=Ft.reduce((t,e)=>(t[e]=wn[e].cancel,t),{}),Vn=Ft.reduce((t,e)=>(t[e]=()=>wn[e].process(it),t),{}),df=t=>wn[t].process(it),$o=t=>{_t=!1,it.delta=ri?Bo:Math.max(Math.min(t-it.timestamp,uf),1),it.timestamp=t,si=!0,Ft.forEach(df),si=!1,_t&&(ri=!1,Go($o))},ff=()=>{_t=!0,ri=!0,si||Go($o)},ln=()=>it;function Ko(t,e,n=0){return t-e-n}function hf(t,e,n=0,i=!0){return i?Ko(e+-t,e,n):e-(t-e)+n}function pf(t,e,n,i){return i?t>=e+n:t<=-n}const mf=t=>{const e=({delta:n})=>t(n);return{start:()=>we.update(e,!0),stop:()=>st.update(e)}};function Wo(t){var e,n,{from:i,autoplay:r=!0,driver:s=mf,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:c=0,onPlay:u,onStop:d,onComplete:f,onRepeat:h,onUpdate:p}=t,m=le(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:v}=m,g,x=0,y=m.duration,T,A=!1,L=!0,P;const V=af(m);!((n=(e=V).needsInterpolation)===null||n===void 0)&&n.call(e,i,v)&&(P=No([0,100],[i,v],{clamp:!1}),i=0,v=100);const R=V(Object.assign(Object.assign({},m),{from:i,to:v}));function j(){x++,l==="reverse"?(L=x%2===0,o=hf(o,y,c,L)):(o=Ko(o,y,c),l==="mirror"&&R.flipTarget()),A=!1,h&&h()}function W(){g.stop(),f&&f()}function z(K){if(L||(K=-K),o+=K,!A){const G=R.next(Math.max(0,o));T=G.value,P&&(T=P(T)),A=L?G.done:o<=0}p==null||p(T),A&&(x===0&&(y??(y=o)),x<a?pf(o,y,c,L)&&j():W())}function N(){u==null||u(),g=s(z),g.start()}return r&&N(),{stop:()=>{d==null||d(),g.stop()}}}function Yo(t,e){return e?t*(1e3/e):0}function gf({from:t=0,velocity:e=0,min:n,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:f,onStop:h}){let p;function m(y){return n!==void 0&&y<n||i!==void 0&&y>i}function v(y){return n===void 0?i:i===void 0||Math.abs(n-y)<Math.abs(i-y)?n:i}function g(y){p==null||p.stop(),p=Wo(Object.assign(Object.assign({},y),{driver:u,onUpdate:T=>{var A;d==null||d(T),(A=y.onUpdate)===null||A===void 0||A.call(y,T)},onComplete:f,onStop:h}))}function x(y){g(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},y))}if(m(t))x({from:t,velocity:e,to:v(t)});else{let y=r*e+t;typeof c<"u"&&(y=c(y));const T=v(y),A=T===n?-1:1;let L,P;const V=R=>{L=P,P=R,e=Yo(R-L,ln().delta),(A===1&&R>T||A===-1&&R<T)&&x({from:R,to:T,velocity:e})};g({type:"decay",from:t,velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:c,onUpdate:m(y)?V:void 0})}return{stop:()=>p==null?void 0:p.stop()}}const oi=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),Or=t=>oi(t)&&t.hasOwnProperty("z"),Ht=(t,e)=>Math.abs(t-e);function Xo(t,e){if(ii(t)&&ii(e))return Ht(t,e);if(oi(t)&&oi(e)){const n=Ht(t.x,e.x),i=Ht(t.y,e.y),r=Or(t)&&Or(e)?Ht(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2)+Math.pow(r,2))}}const qo=(t,e)=>1-3*e+3*t,Zo=(t,e)=>3*e-6*t,Jo=t=>3*t,cn=(t,e,n)=>((qo(e,n)*t+Zo(e,n))*t+Jo(e))*t,Qo=(t,e,n)=>3*qo(e,n)*t*t+2*Zo(e,n)*t+Jo(e),vf=1e-7,yf=10;function bf(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=cn(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>vf&&++a<yf);return o}const xf=8,wf=.001;function Sf(t,e,n,i){for(let r=0;r<xf;++r){const s=Qo(e,n,i);if(s===0)return e;const o=cn(e,n,i)-t;e-=o/s}return e}const qt=11,Bt=1/(qt-1);function Af(t,e,n,i){if(t===e&&n===i)return _i;const r=new Float32Array(qt);for(let o=0;o<qt;++o)r[o]=cn(o*Bt,t,n);function s(o){let a=0,l=1;const c=qt-1;for(;l!==c&&r[l]<=o;++l)a+=Bt;--l;const u=(o-r[l])/(r[l+1]-r[l]),d=a+u*Bt,f=Qo(d,t,n);return f>=wf?Sf(o,d,t,n):f===0?d:bf(o,a,a+Bt,t,n)}return o=>o===0||o===1?o:cn(s(o),e,i)}function Tf(t){var e=t.onTap,n=t.onTapStart,i=t.onTapCancel,r=t.whileTap,s=t.visualElement,o=e||n||i||r,a=S.useRef(!1),l=S.useRef(null),c={passive:!(n||e||i||p)};function u(){var m;(m=l.current)===null||m===void 0||m.call(l),l.current=null}function d(){var m;return u(),a.current=!1,(m=s.animationState)===null||m===void 0||m.setActive(B.Tap,!1),!Ro()}function f(m,v){d()&&(Io(s.getInstance(),m.target)?e==null||e(m,v):i==null||i(m,v))}function h(m,v){d()&&(i==null||i(m,v))}function p(m,v){var g;u(),!a.current&&(a.current=!0,l.current=bn(nt(window,"pointerup",f,c),nt(window,"pointercancel",h,c)),(g=s.animationState)===null||g===void 0||g.setActive(B.Tap,!0),n==null||n(m,v))}sn(s,"pointerdown",o?p:void 0,c),Oo(u)}var Dr=new Set;function Ef(t,e,n){t||Dr.has(e)||(console.warn(e),n&&console.warn(n),Dr.add(e))}var ai=new WeakMap,kn=new WeakMap,Mf=function(t){var e;(e=ai.get(t.target))===null||e===void 0||e(t)},Cf=function(t){t.forEach(Mf)};function Lf(t){var e=t.root,n=le(t,["root"]),i=e||document;kn.has(i)||kn.set(i,{});var r=kn.get(i),s=JSON.stringify(n);return r[s]||(r[s]=new IntersectionObserver(Cf,E({root:e},n))),r[s]}function Pf(t,e,n){var i=Lf(e);return ai.set(t,n),i.observe(t),function(){ai.delete(t),i.unobserve(t)}}function _f(t){var e=t.visualElement,n=t.whileInView,i=t.onViewportEnter,r=t.onViewportLeave,s=t.viewport,o=s===void 0?{}:s,a=S.useRef({hasEnteredView:!1,isInView:!1}),l=!!(n||i||r);o.once&&a.current.hasEnteredView&&(l=!1);var c=typeof IntersectionObserver>"u"?Of:If;c(l,a.current,e,o)}var Rf={some:0,all:1};function If(t,e,n,i){var r=i.root,s=i.margin,o=i.amount,a=o===void 0?"some":o,l=i.once;S.useEffect(function(){if(t){var c={root:r==null?void 0:r.current,rootMargin:s,threshold:typeof a=="number"?a:Rf[a]},u=function(d){var f,h=d.isIntersecting;if(e.isInView!==h&&(e.isInView=h,!(l&&!h&&e.hasEnteredView))){h&&(e.hasEnteredView=!0),(f=n.animationState)===null||f===void 0||f.setActive(B.InView,h);var p=n.getProps(),m=h?p.onViewportEnter:p.onViewportLeave;m==null||m(d)}};return Pf(n.getInstance(),c,u)}},[t,r,s,a])}function Of(t,e,n,i){var r=i.fallback,s=r===void 0?!0:r;S.useEffect(function(){!t||!s||(Ys!=="production"&&Ef(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var o;e.hasEnteredView=!0;var a=n.getProps().onViewportEnter;a==null||a(null),(o=n.animationState)===null||o===void 0||o.setActive(B.InView,!0)}))},[t])}var Fe=function(t){return function(e){return t(e),null}},Df={inView:Fe(_f),tap:Fe(Tf),focus:Fe(fd),hover:Fe(Sd)},Vf=0,kf=function(){return Vf++},Ff=function(){return vn(kf)};function ea(){var t=S.useContext(pn);if(t===null)return[!0,null];var e=t.isPresent,n=t.onExitComplete,i=t.register,r=Ff();S.useEffect(function(){return i(r)},[]);var s=function(){return n==null?void 0:n(r)};return!e&&n?[!1,s]:[!0]}function ta(t,e){if(!Array.isArray(e))return!1;var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}var un=function(t){return t*1e3},Nf={linear:_i,easeIn:Ri,easeInOut:zo,easeOut:Kd,circIn:Ho,circInOut:Wd,circOut:Ii,backIn:Oi,backInOut:Xd,backOut:Yd,anticipate:qd,bounceIn:ef,bounceInOut:tf,bounceOut:an},Vr=function(t){if(Array.isArray(t)){tn(t.length===4);var e=q(t,4),n=e[0],i=e[1],r=e[2],s=e[3];return Af(n,i,r,s)}else if(typeof t=="string")return Nf[t];return t},jf=function(t){return Array.isArray(t)&&typeof t[0]!="number"},kr=function(t,e){return t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Ce.test(e)&&!e.startsWith("url("))},je=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Gt=function(t){return{type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}},Fn=function(){return{type:"keyframes",ease:"linear",duration:.3}},Uf=function(t){return{type:"keyframes",duration:.8,values:t}},Fr={x:je,y:je,z:je,rotate:je,rotateX:je,rotateY:je,rotateZ:je,scaleX:Gt,scaleY:Gt,scale:Gt,opacity:Fn,backgroundColor:Fn,color:Fn,default:Gt},zf=function(t,e){var n;return Lt(e)?n=Uf:n=Fr[t]||Fr.default,E({to:e},n(e))},Hf=E(E({},po),{color:se,backgroundColor:se,outlineColor:se,fill:se,stroke:se,borderColor:se,borderTopColor:se,borderRightColor:se,borderBottomColor:se,borderLeftColor:se,filter:ei,WebkitFilter:ei}),Di=function(t){return Hf[t]};function Vi(t,e){var n,i=Di(t);return i!==ei&&(i=Ce),(n=i.getAnimatableNone)===null||n===void 0?void 0:n.call(i,e)}function Bf(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var e=le(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}function Gf(t){var e=t.ease,n=t.times,i=t.yoyo,r=t.flip,s=t.loop,o=le(t,["ease","times","yoyo","flip","loop"]),a=E({},o);return n&&(a.offset=n),o.duration&&(a.duration=un(o.duration)),o.repeatDelay&&(a.repeatDelay=un(o.repeatDelay)),e&&(a.ease=jf(e)?e.map(Vr):Vr(e)),o.type==="tween"&&(a.type="keyframes"),(i||s||r)&&(i?a.repeatType="reverse":s?a.repeatType="loop":r&&(a.repeatType="mirror"),a.repeat=s||i||r||o.repeat),o.type!=="spring"&&(a.type="keyframes"),a}function $f(t,e){var n,i,r=ki(t,e)||{};return(i=(n=r.delay)!==null&&n!==void 0?n:t.delay)!==null&&i!==void 0?i:0}function Kf(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=be([],q(t.to),!1),t.to[0]=t.from),t}function Wf(t,e,n){var i;return Array.isArray(e.to)&&((i=t.duration)!==null&&i!==void 0||(t.duration=.8)),Kf(e),Bf(t)||(t=E(E({},t),zf(n,e.to))),E(E({},e),Gf(t))}function Yf(t,e,n,i,r){var s,o=ki(i,t),a=(s=o.from)!==null&&s!==void 0?s:e.get(),l=kr(t,n);a==="none"&&l&&typeof n=="string"?a=Vi(t,n):Nr(a)&&typeof n=="string"?a=jr(n):!Array.isArray(n)&&Nr(n)&&typeof a=="string"&&(n=jr(a));var c=kr(t,a);function u(){var f={from:a,to:n,velocity:e.getVelocity(),onComplete:r,onUpdate:function(h){return e.set(h)}};return o.type==="inertia"||o.type==="decay"?gf(E(E({},f),o)):Wo(E(E({},Wf(o,f,t)),{onUpdate:function(h){var p;f.onUpdate(h),(p=o.onUpdate)===null||p===void 0||p.call(o,h)},onComplete:function(){var h;f.onComplete(),(h=o.onComplete)===null||h===void 0||h.call(o)}}))}function d(){var f,h,p=Ao(n);return e.set(p),r(),(f=o==null?void 0:o.onUpdate)===null||f===void 0||f.call(o,p),(h=o==null?void 0:o.onComplete)===null||h===void 0||h.call(o),{stop:function(){}}}return!c||!l||o.type===!1?d:u}function Nr(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function jr(t){return typeof t=="number"?0:Vi("",t)}function ki(t,e){return t[e]||t.default||t}function Fi(t,e,n,i){return i===void 0&&(i={}),e.start(function(r){var s,o,a=Yf(t,e,n,i,r),l=$f(i,t),c=function(){return o=a()};return l?s=window.setTimeout(c,un(l)):c(),function(){clearTimeout(s),o==null||o.stop()}})}var Xf=function(t){return/^\-?\d*\.?\d+$/.test(t)},qf=function(t){return/^0[^.\s]+$/.test(t)};function Ni(t,e){t.indexOf(e)===-1&&t.push(e)}function ji(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var bt=function(){function t(){this.subscriptions=[]}return t.prototype.add=function(e){var n=this;return Ni(this.subscriptions,e),function(){return ji(n.subscriptions,e)}},t.prototype.notify=function(e,n,i){var r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(var s=0;s<r;s++){var o=this.subscriptions[s];o&&o(e,n,i)}},t.prototype.getSize=function(){return this.subscriptions.length},t.prototype.clear=function(){this.subscriptions.length=0},t}(),Zf=function(t){return!isNaN(parseFloat(t))},Jf=function(){function t(e){var n=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new bt,this.velocityUpdateSubscribers=new bt,this.renderSubscribers=new bt,this.canTrackVelocity=!1,this.updateAndNotify=function(i,r){r===void 0&&(r=!0),n.prev=n.current,n.current=i;var s=ln(),o=s.delta,a=s.timestamp;n.lastUpdated!==a&&(n.timeDelta=o,n.lastUpdated=a,we.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),r&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return we.postRender(n.velocityCheck)},this.velocityCheck=function(i){var r=i.timestamp;r!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Zf(this.current)}return t.prototype.onChange=function(e){return this.updateSubscribers.add(e)},t.prototype.clearListeners=function(){this.updateSubscribers.clear()},t.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},t.prototype.attach=function(e){this.passiveEffect=e},t.prototype.set=function(e,n){n===void 0&&(n=!0),!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)},t.prototype.get=function(){return this.current},t.prototype.getPrevious=function(){return this.prev},t.prototype.getVelocity=function(){return this.canTrackVelocity?Yo(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},t.prototype.start=function(e){var n=this;return this.stop(),new Promise(function(i){n.hasAnimated=!0,n.stopAnimation=e(i)}).then(function(){return n.clearAnimation()})},t.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},t.prototype.isAnimating=function(){return!!this.stopAnimation},t.prototype.clearAnimation=function(){this.stopAnimation=null},t.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},t}();function ot(t){return new Jf(t)}var na=function(t){return function(e){return e.test(t)}},Qf={test:function(t){return t==="auto"},parse:function(t){return t}},ia=[Ke,I,xe,Oe,Nu,Fu,Qf],ft=function(t){return ia.find(na(t))},eh=be(be([],q(ia),!1),[se,Ce],!1),th=function(t){return eh.find(na(t))};function nh(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ot(n))}function ih(t,e){var n=mn(t,e),i=n?t.makeTargetAnimatable(n,!1):{},r=i.transitionEnd,s=r===void 0?{}:r;i.transition;var o=le(i,["transitionEnd","transition"]);o=E(E({},o),s);for(var a in o){var l=Ao(o[a]);nh(t,a,l)}}function rh(t,e,n){var i,r,s,o,a=Object.keys(e).filter(function(h){return!t.hasValue(h)}),l=a.length;if(l)for(var c=0;c<l;c++){var u=a[c],d=e[u],f=null;Array.isArray(d)&&(f=d[0]),f===null&&(f=(r=(i=n[u])!==null&&i!==void 0?i:t.readValue(u))!==null&&r!==void 0?r:e[u]),f!=null&&(typeof f=="string"&&(Xf(f)||qf(f))?f=parseFloat(f):!th(f)&&Ce.test(d)&&(f=Vi(u,d)),t.addValue(u,ot(f)),(s=(o=n)[u])!==null&&s!==void 0||(o[u]=f),t.setBaseTarget(u,f))}}function sh(t,e){if(e){var n=e[t]||e.default||e;return n.from}}function oh(t,e,n){var i,r,s={};for(var o in t)s[o]=(i=sh(o,e))!==null&&i!==void 0?i:(r=n.getValue(o))===null||r===void 0?void 0:r.get();return s}function ah(t,e,n){n===void 0&&(n={}),t.notifyAnimationStart(e);var i;if(Array.isArray(e)){var r=e.map(function(o){return li(t,o,n)});i=Promise.all(r)}else if(typeof e=="string")i=li(t,e,n);else{var s=typeof e=="function"?mn(t,e,n.custom):e;i=ra(t,s,n)}return i.then(function(){return t.notifyAnimationComplete(e)})}function li(t,e,n){var i;n===void 0&&(n={});var r=mn(t,e,n.custom),s=(r||{}).transition,o=s===void 0?t.getDefaultTransition()||{}:s;n.transitionOverride&&(o=n.transitionOverride);var a=r?function(){return ra(t,r,n)}:function(){return Promise.resolve()},l=!((i=t.variantChildren)===null||i===void 0)&&i.size?function(h){h===void 0&&(h=0);var p=o.delayChildren,m=p===void 0?0:p,v=o.staggerChildren,g=o.staggerDirection;return lh(t,e,m+h,v,g,n)}:function(){return Promise.resolve()},c=o.when;if(c){var u=q(c==="beforeChildren"?[a,l]:[l,a],2),d=u[0],f=u[1];return d().then(f)}else return Promise.all([a(),l(n.delay)])}function ra(t,e,n){var i,r=n===void 0?{}:n,s=r.delay,o=s===void 0?0:s,a=r.transitionOverride,l=r.type,c=t.makeTargetAnimatable(e),u=c.transition,d=u===void 0?t.getDefaultTransition():u,f=c.transitionEnd,h=le(c,["transition","transitionEnd"]);a&&(d=a);var p=[],m=l&&((i=t.animationState)===null||i===void 0?void 0:i.getState()[l]);for(var v in h){var g=t.getValue(v),x=h[v];if(!(!g||x===void 0||m&&uh(m,v))){var y=E({delay:o},d);t.shouldReduceMotion&&Dt(v)&&(y=E(E({},y),{type:!1,delay:0}));var T=Fi(v,g,x,y);p.push(T)}}return Promise.all(p).then(function(){f&&ih(t,f)})}function lh(t,e,n,i,r,s){n===void 0&&(n=0),i===void 0&&(i=0),r===void 0&&(r=1);var o=[],a=(t.variantChildren.size-1)*i,l=r===1?function(c){return c===void 0&&(c=0),c*i}:function(c){return c===void 0&&(c=0),a-c*i};return Array.from(t.variantChildren).sort(ch).forEach(function(c,u){o.push(li(c,e,E(E({},s),{delay:n+l(u)})).then(function(){return c.notifyAnimationComplete(e)}))}),Promise.all(o)}function ch(t,e){return t.sortNodePosition(e)}function uh(t,e){var n=t.protectedKeys,i=t.needsAnimating,r=n.hasOwnProperty(e)&&i[e]!==!0;return i[e]=!1,r}var Ui=[B.Animate,B.InView,B.Focus,B.Hover,B.Tap,B.Drag,B.Exit],dh=be([],q(Ui),!1).reverse(),fh=Ui.length;function hh(t){return function(e){return Promise.all(e.map(function(n){var i=n.animation,r=n.options;return ah(t,i,r)}))}}function ph(t){var e=hh(t),n=gh(),i={},r=!0,s=function(u,d){var f=mn(t,d);if(f){f.transition;var h=f.transitionEnd,p=le(f,["transition","transitionEnd"]);u=E(E(E({},u),p),h)}return u};function o(u){return i[u]!==void 0}function a(u){e=u(t)}function l(u,d){for(var f,h=t.getProps(),p=t.getVariantContext(!0)||{},m=[],v=new Set,g={},x=1/0,y=function(P){var V=dh[P],R=n[V],j=(f=h[V])!==null&&f!==void 0?f:p[V],W=de(j),z=V===d?R.isActive:null;z===!1&&(x=P);var N=j===p[V]&&j!==h[V]&&W;if(N&&r&&t.manuallyAnimateOnMount&&(N=!1),R.protectedKeys=E({},g),!R.isActive&&z===null||!j&&!R.prevProp||Mi(j)||typeof j=="boolean")return"continue";var K=mh(R.prevProp,j),G=K||V===d&&R.isActive&&!N&&W||P>x&&W,k=Array.isArray(j)?j:[j],H=k.reduce(s,{});z===!1&&(H={});var te=R.prevResolvedValues,fe=te===void 0?{}:te,Pe=E(E({},fe),H),he=function(_){G=!0,v.delete(_),R.needsAnimating[_]=!0};for(var ie in Pe){var U=H[ie],M=fe[ie];g.hasOwnProperty(ie)||(U!==M?Lt(U)&&Lt(M)?!ta(U,M)||K?he(ie):R.protectedKeys[ie]=!0:U!==void 0?he(ie):v.add(ie):U!==void 0&&v.has(ie)?he(ie):R.protectedKeys[ie]=!0)}R.prevProp=j,R.prevResolvedValues=H,R.isActive&&(g=E(E({},g),H)),r&&t.blockInitialAnimation&&(G=!1),G&&!N&&m.push.apply(m,be([],q(k.map(function(_){return{animation:_,options:E({type:V},u)}})),!1))},T=0;T<fh;T++)y(T);if(i=E({},g),v.size){var A={};v.forEach(function(P){var V=t.getBaseTarget(P);V!==void 0&&(A[P]=V)}),m.push({animation:A})}var L=!!m.length;return r&&h.initial===!1&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(m):Promise.resolve()}function c(u,d,f){var h;if(n[u].isActive===d)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(function(v){var g;return(g=v.animationState)===null||g===void 0?void 0:g.setActive(u,d)}),n[u].isActive=d;var p=l(f,u);for(var m in n)n[m].protectedKeys={};return p}return{isAnimated:o,animateChanges:l,setActive:c,setAnimateFunction:a,getState:function(){return n}}}function mh(t,e){return typeof e=="string"?e!==t:Js(e)?!ta(e,t):!1}function Ue(t){return t===void 0&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gh(){var t;return t={},t[B.Animate]=Ue(!0),t[B.InView]=Ue(),t[B.Hover]=Ue(),t[B.Tap]=Ue(),t[B.Drag]=Ue(),t[B.Focus]=Ue(),t[B.Exit]=Ue(),t}var vh={animation:Fe(function(t){var e=t.visualElement,n=t.animate;e.animationState||(e.animationState=ph(e)),Mi(n)&&S.useEffect(function(){return n.subscribe(e)},[n])}),exit:Fe(function(t){var e=t.custom,n=t.visualElement,i=q(ea(),2),r=i[0],s=i[1],o=S.useContext(pn);S.useEffect(function(){var a,l;n.isPresent=r;var c=(a=n.animationState)===null||a===void 0?void 0:a.setActive(B.Exit,!r,{custom:(l=o==null?void 0:o.custom)!==null&&l!==void 0?l:e});!r&&(c==null||c.then(s))},[r])})},sa=function(){function t(e,n,i){var r=this,s=i===void 0?{}:i,o=s.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var f=jn(r.lastMoveEventInfo,r.history),h=r.startEvent!==null,p=Xo(f.offset,{x:0,y:0})>=3;if(!(!h&&!p)){var m=f.point,v=ln().timestamp;r.history.push(E(E({},m),{timestamp:v}));var g=r.handlers,x=g.onStart,y=g.onMove;h||(x&&x(r.lastMoveEvent,f),r.startEvent=r.lastMoveEvent),y&&y(r.lastMoveEvent,f)}}},this.handlePointerMove=function(f,h){if(r.lastMoveEvent=f,r.lastMoveEventInfo=Nn(h,r.transformPagePoint),Eo(f)&&f.buttons===0){r.handlePointerUp(f,h);return}we.update(r.updatePoint,!0)},this.handlePointerUp=function(f,h){r.end();var p=r.handlers,m=p.onEnd,v=p.onSessionEnd,g=jn(Nn(h,r.transformPagePoint),r.history);r.startEvent&&m&&m(f,g),v&&v(f,g)},!(Mo(e)&&e.touches.length>1)){this.handlers=n,this.transformPagePoint=o;var a=Ci(e),l=Nn(a,this.transformPagePoint),c=l.point,u=ln().timestamp;this.history=[E(E({},c),{timestamp:u})];var d=n.onSessionStart;d&&d(e,jn(l,this.history)),this.removeListeners=bn(nt(window,"pointermove",this.handlePointerMove),nt(window,"pointerup",this.handlePointerUp),nt(window,"pointercancel",this.handlePointerUp))}}return t.prototype.updateHandlers=function(e){this.handlers=e},t.prototype.end=function(){this.removeListeners&&this.removeListeners(),st.update(this.updatePoint)},t}();function Nn(t,e){return e?{point:e(t.point)}:t}function Ur(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jn(t,e){var n=t.point;return{point:n,delta:Ur(n,oa(e)),offset:Ur(n,yh(e)),velocity:bh(e,.1)}}function yh(t){return t[0]}function oa(t){return t[t.length-1]}function bh(t,e){if(t.length<2)return{x:0,y:0};for(var n=t.length-1,i=null,r=oa(t);n>=0&&(i=t[n],!(r.timestamp-i.timestamp>un(e)));)n--;if(!i)return{x:0,y:0};var s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};var o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Le(t){return t.max-t.min}function zr(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=.01),Xo(t,e)<n}function Hr(t,e,n,i){i===void 0&&(i=.5),t.origin=i,t.originPoint=X(e.min,e.max,t.origin),t.scale=Le(n)/Le(e),(zr(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=X(n.min,n.max,t.origin)-t.originPoint,(zr(t.translate)||isNaN(t.translate))&&(t.translate=0)}function xt(t,e,n,i){Hr(t.x,e.x,n.x,i==null?void 0:i.originX),Hr(t.y,e.y,n.y,i==null?void 0:i.originY)}function Br(t,e,n){t.min=n.min+e.min,t.max=t.min+Le(e)}function xh(t,e,n){Br(t.x,e.x,n.x),Br(t.y,e.y,n.y)}function Gr(t,e,n){t.min=e.min-n.min,t.max=t.min+Le(e)}function wt(t,e,n){Gr(t.x,e.x,n.x),Gr(t.y,e.y,n.y)}function wh(t,e,n){var i=e.min,r=e.max;return i!==void 0&&t<i?t=n?X(i,t,n.min):Math.max(t,i):r!==void 0&&t>r&&(t=n?X(r,t,n.max):Math.min(t,r)),t}function $r(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Sh(t,e){var n=e.top,i=e.left,r=e.bottom,s=e.right;return{x:$r(t.x,i,s),y:$r(t.y,n,r)}}function Kr(t,e){var n,i=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&(n=q([r,i],2),i=n[0],r=n[1]),{min:i,max:r}}function Ah(t,e){return{x:Kr(t.x,e.x),y:Kr(t.y,e.y)}}function Th(t,e){var n=.5,i=Le(t),r=Le(e);return r>i?n=Pt(e.min,e.max-i,t.min):i>r&&(n=Pt(t.min,t.max-r,e.min)),on(0,1,n)}function Eh(t,e){var n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}var ci=.35;function Mh(t){return t===void 0&&(t=ci),t===!1?t=0:t===!0&&(t=ci),{x:Wr(t,"left","right"),y:Wr(t,"top","bottom")}}function Wr(t,e,n){return{min:Yr(t,e),max:Yr(t,n)}}function Yr(t,e){var n;return typeof t=="number"?t:(n=t[e])!==null&&n!==void 0?n:0}var Xr=function(){return{translate:0,scale:1,origin:0,originPoint:0}},St=function(){return{x:Xr(),y:Xr()}},qr=function(){return{min:0,max:0}},re=function(){return{x:qr(),y:qr()}};function me(t){return[t("x"),t("y")]}function aa(t){var e=t.top,n=t.left,i=t.right,r=t.bottom;return{x:{min:n,max:i},y:{min:e,max:r}}}function Ch(t){var e=t.x,n=t.y;return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function Lh(t,e){if(!e)return t;var n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Un(t){return t===void 0||t===1}function la(t){var e=t.scale,n=t.scaleX,i=t.scaleY;return!Un(e)||!Un(n)||!Un(i)}function De(t){return la(t)||Zr(t.x)||Zr(t.y)||t.z||t.rotate||t.rotateX||t.rotateY}function Zr(t){return t&&t!=="0%"}function dn(t,e,n){var i=t-n,r=e*i;return n+r}function Jr(t,e,n,i,r){return r!==void 0&&(t=dn(t,r,i)),dn(t,n,i)+e}function ui(t,e,n,i,r){e===void 0&&(e=0),n===void 0&&(n=1),t.min=Jr(t.min,e,n,i,r),t.max=Jr(t.max,e,n,i,r)}function ca(t,e){var n=e.x,i=e.y;ui(t.x,n.translate,n.scale,n.originPoint),ui(t.y,i.translate,i.scale,i.originPoint)}function Ph(t,e,n,i){var r,s;i===void 0&&(i=!1);var o=n.length;if(o){e.x=e.y=1;for(var a,l,c=0;c<o;c++)a=n[c],l=a.projectionDelta,((s=(r=a.instance)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.display)!=="contents"&&(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&tt(t,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,ca(t,l)),i&&De(a.latestValues)&&tt(t,a.latestValues))}}function Ve(t,e){t.min=t.min+e,t.max=t.max+e}function Qr(t,e,n){var i=q(n,3),r=i[0],s=i[1],o=i[2],a=e[o]!==void 0?e[o]:.5,l=X(t.min,t.max,a);ui(t,e[r],e[s],l,e.scale)}var _h=["x","scaleX","originX"],Rh=["y","scaleY","originY"];function tt(t,e){Qr(t.x,e,_h),Qr(t.y,e,Rh)}function ua(t,e){return aa(Lh(t.getBoundingClientRect(),e))}function Ih(t,e,n){var i=ua(t,n),r=e.scroll;return r&&(Ve(i.x,r.x),Ve(i.y,r.y)),i}var Oh=new WeakMap,Dh=function(){function t(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=re(),this.visualElement=e}return t.prototype.start=function(e,n){var i=this,r=n===void 0?{}:n,s=r.snapToCursor,o=s===void 0?!1:s;if(this.visualElement.isPresent!==!1){var a=function(d){i.stopAnimation(),o&&i.snapToCursor(Ci(d,"page").point)},l=function(d,f){var h,p=i.getProps(),m=p.drag,v=p.dragPropagation,g=p.onDragStart;m&&!v&&(i.openGlobalLock&&i.openGlobalLock(),i.openGlobalLock=_o(m),!i.openGlobalLock)||(i.isDragging=!0,i.currentDirection=null,i.resolveConstraints(),i.visualElement.projection&&(i.visualElement.projection.isAnimationBlocked=!0,i.visualElement.projection.target=void 0),me(function(x){var y,T,A=i.getAxisMotionValue(x).get()||0;if(xe.test(A)){var L=(T=(y=i.visualElement.projection)===null||y===void 0?void 0:y.layout)===null||T===void 0?void 0:T.actual[x];if(L){var P=Le(L);A=P*(parseFloat(A)/100)}}i.originPoint[x]=A}),g==null||g(d,f),(h=i.visualElement.animationState)===null||h===void 0||h.setActive(B.Drag,!0))},c=function(d,f){var h=i.getProps(),p=h.dragPropagation,m=h.dragDirectionLock,v=h.onDirectionLock,g=h.onDrag;if(!(!p&&!i.openGlobalLock)){var x=f.offset;if(m&&i.currentDirection===null){i.currentDirection=Vh(x),i.currentDirection!==null&&(v==null||v(i.currentDirection));return}i.updateAxis("x",f.point,x),i.updateAxis("y",f.point,x),i.visualElement.syncRender(),g==null||g(d,f)}},u=function(d,f){return i.stop(d,f)};this.panSession=new sa(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:u},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},t.prototype.stop=function(e,n){var i=this.isDragging;if(this.cancel(),!!i){var r=n.velocity;this.startAnimation(r);var s=this.getProps().onDragEnd;s==null||s(e,n)}},t.prototype.cancel=function(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;var i=this.getProps().dragPropagation;!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(B.Drag,!1)},t.prototype.updateAxis=function(e,n,i){var r=this.getProps().drag;if(!(!i||!$t(e,r,this.currentDirection))){var s=this.getAxisMotionValue(e),o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=wh(o,this.constraints[e],this.elastic[e])),s.set(o)}},t.prototype.resolveConstraints=function(){var e=this,n=this.getProps(),i=n.dragConstraints,r=n.dragElastic,s=(this.visualElement.projection||{}).layout,o=this.constraints;i&&et(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&s?this.constraints=Sh(s.actual,i):this.constraints=!1,this.elastic=Mh(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&me(function(a){e.getAxisMotionValue(a)&&(e.constraints[a]=Eh(s.actual[a],e.constraints[a]))})},t.prototype.resolveRefConstraints=function(){var e=this.getProps(),n=e.dragConstraints,i=e.onMeasureDragConstraints;if(!n||!et(n))return!1;var r=n.current,s=this.visualElement.projection;if(!s||!s.layout)return!1;var o=Ih(r,s.root,this.visualElement.getTransformPagePoint()),a=Ah(s.layout.actual,o);if(i){var l=i(Ch(a));this.hasMutatedConstraints=!!l,l&&(a=aa(l))}return a},t.prototype.startAnimation=function(e){var n=this,i=this.getProps(),r=i.drag,s=i.dragMomentum,o=i.dragElastic,a=i.dragTransition,l=i.dragSnapToOrigin,c=i.onDragTransitionEnd,u=this.constraints||{},d=me(function(f){var h;if($t(f,r,n.currentDirection)){var p=(h=u==null?void 0:u[f])!==null&&h!==void 0?h:{};l&&(p={min:0,max:0});var m=o?200:1e6,v=o?40:1e7,g=E(E({type:"inertia",velocity:s?e[f]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10},a),p);return n.startAxisValueAnimation(f,g)}});return Promise.all(d).then(c)},t.prototype.startAxisValueAnimation=function(e,n){var i=this.getAxisMotionValue(e);return Fi(e,i,0,n)},t.prototype.stopAnimation=function(){var e=this;me(function(n){return e.getAxisMotionValue(n).stop()})},t.prototype.getAxisMotionValue=function(e){var n,i,r="_drag"+e.toUpperCase(),s=this.visualElement.getProps()[r];return s||this.visualElement.getValue(e,(i=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:0)},t.prototype.snapToCursor=function(e){var n=this;me(function(i){var r=n.getProps().drag;if($t(i,r,n.currentDirection)){var s=n.visualElement.projection,o=n.getAxisMotionValue(i);if(s&&s.layout){var a=s.layout.actual[i],l=a.min,c=a.max;o.set(e[i]-X(l,c,.5))}}})},t.prototype.scalePositionWithinConstraints=function(){var e=this,n,i=this.getProps(),r=i.drag,s=i.dragConstraints,o=this.visualElement.projection;if(!(!et(s)||!o||!this.constraints)){this.stopAnimation();var a={x:0,y:0};me(function(c){var u=e.getAxisMotionValue(c);if(u){var d=u.get();a[c]=Th({min:d,max:d},e.constraints[c])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(n=o.root)===null||n===void 0||n.updateScroll(),o.updateLayout(),this.resolveConstraints(),me(function(c){if($t(c,r,null)){var u=e.getAxisMotionValue(c),d=e.constraints[c],f=d.min,h=d.max;u.set(X(f,h,a[c]))}})}},t.prototype.addListeners=function(){var e=this,n;Oh.set(this.visualElement,this);var i=this.visualElement.getInstance(),r=nt(i,"pointerdown",function(c){var u=e.getProps(),d=u.drag,f=u.dragListener,h=f===void 0?!0:f;d&&h&&e.start(c)}),s=function(){var c=e.getProps().dragConstraints;et(c)&&(e.constraints=e.resolveRefConstraints())},o=this.visualElement.projection,a=o.addEventListener("measure",s);o&&!o.layout&&((n=o.root)===null||n===void 0||n.updateScroll(),o.updateLayout()),s();var l=yn(window,"resize",function(){return e.scalePositionWithinConstraints()});return o.addEventListener("didUpdate",function(c){var u=c.delta,d=c.hasLayoutChanged;e.isDragging&&d&&(me(function(f){var h=e.getAxisMotionValue(f);h&&(e.originPoint[f]+=u[f].translate,h.set(h.get()+u[f].translate))}),e.visualElement.syncRender())}),function(){l(),r(),a()}},t.prototype.getProps=function(){var e=this.visualElement.getProps(),n=e.drag,i=n===void 0?!1:n,r=e.dragDirectionLock,s=r===void 0?!1:r,o=e.dragPropagation,a=o===void 0?!1:o,l=e.dragConstraints,c=l===void 0?!1:l,u=e.dragElastic,d=u===void 0?ci:u,f=e.dragMomentum,h=f===void 0?!0:f;return E(E({},e),{drag:i,dragDirectionLock:s,dragPropagation:a,dragConstraints:c,dragElastic:d,dragMomentum:h})},t}();function $t(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Vh(t,e){e===void 0&&(e=10);var n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function kh(t){var e=t.dragControls,n=t.visualElement,i=vn(function(){return new Dh(n)});S.useEffect(function(){return e&&e.subscribe(i)},[i,e]),S.useEffect(function(){return i.addListeners()},[i])}function Fh(t){var e=t.onPan,n=t.onPanStart,i=t.onPanEnd,r=t.onPanSessionStart,s=t.visualElement,o=e||n||i||r,a=S.useRef(null),l=S.useContext(bi).transformPagePoint,c={onSessionStart:r,onStart:n,onMove:e,onEnd:function(d,f){a.current=null,i&&i(d,f)}};S.useEffect(function(){a.current!==null&&a.current.updateHandlers(c)});function u(d){a.current=new sa(d,c,{transformPagePoint:l})}sn(s,"pointerdown",o&&u),Oo(function(){return a.current&&a.current.end()})}var Nh={pan:Fe(Fh),drag:Fe(kh)},Kt=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function jh(){var t=Kt.map(function(){return new bt}),e={},n={clearAllListeners:function(){return t.forEach(function(i){return i.clear()})},updatePropListeners:function(i){Kt.forEach(function(r){var s,o="on"+r,a=i[o];(s=e[r])===null||s===void 0||s.call(e),a&&(e[r]=n[o](a))})}};return t.forEach(function(i,r){n["on"+Kt[r]]=function(s){return i.add(s)},n["notify"+Kt[r]]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return i.notify.apply(i,be([],q(s),!1))}}),n}function Uh(t,e,n){var i;for(var r in e){var s=e[r],o=n[r];if(Me(s))t.addValue(r,s);else if(Me(o))t.addValue(r,ot(s));else if(o!==s)if(t.hasValue(r)){var a=t.getValue(r);!a.hasAnimated&&a.set(s)}else t.addValue(r,ot((i=t.getStaticValue(r))!==null&&i!==void 0?i:s))}for(var r in n)e[r]===void 0&&t.removeValue(r);return e}var da=function(t){var e=t.treeType,n=e===void 0?"":e,i=t.build,r=t.getBaseTarget,s=t.makeTargetAnimatable,o=t.measureViewportBox,a=t.render,l=t.readValueFromInstance,c=t.removeValueFromRenderState,u=t.sortNodePosition,d=t.scrapeMotionValuesFromProps;return function(f,h){var p=f.parent,m=f.props,v=f.presenceId,g=f.blockInitialAnimation,x=f.visualState,y=f.shouldReduceMotion;h===void 0&&(h={});var T=!1,A=x.latestValues,L=x.renderState,P,V=jh(),R=new Map,j=new Map,W={},z=E({},A),N;function K(){!P||!T||(G(),a(P,L,m.style,U.projection))}function G(){i(U,L,A,h,m)}function k(){V.notifyUpdate(A)}function H(M,_){var Z=_.onChange(function(We){A[M]=We,m.onUpdate&&we.update(k,!1,!0)}),Ne=_.onRenderRequest(U.scheduleRender);j.set(M,function(){Z(),Ne()})}var te=d(m);for(var fe in te){var Pe=te[fe];A[fe]!==void 0&&Me(Pe)&&Pe.set(A[fe],!1)}var he=gn(m),ie=eo(m),U=E(E({treeType:n,current:null,depth:p?p.depth+1:0,parent:p,children:new Set,presenceId:v,shouldReduceMotion:y,variantChildren:ie?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(p!=null&&p.isMounted()),blockInitialAnimation:g,isMounted:function(){return!!P},mount:function(M){T=!0,P=U.current=M,U.projection&&U.projection.mount(M),ie&&p&&!he&&(N=p==null?void 0:p.addVariantChild(U)),R.forEach(function(_,Z){return H(Z,_)}),p==null||p.children.add(U),U.setProps(m)},unmount:function(){var M;(M=U.projection)===null||M===void 0||M.unmount(),st.update(k),st.render(K),j.forEach(function(_){return _()}),N==null||N(),p==null||p.children.delete(U),V.clearAllListeners(),P=void 0,T=!1},addVariantChild:function(M){var _,Z=U.getClosestVariantNode();if(Z)return(_=Z.variantChildren)===null||_===void 0||_.add(M),function(){return Z.variantChildren.delete(M)}},sortNodePosition:function(M){return!u||n!==M.treeType?0:u(U.getInstance(),M.getInstance())},getClosestVariantNode:function(){return ie?U:p==null?void 0:p.getClosestVariantNode()},getLayoutId:function(){return m.layoutId},getInstance:function(){return P},getStaticValue:function(M){return A[M]},setStaticValue:function(M,_){return A[M]=_},getLatestValues:function(){return A},setVisibility:function(M){U.isVisible!==M&&(U.isVisible=M,U.scheduleRender())},makeTargetAnimatable:function(M,_){return _===void 0&&(_=!0),s(U,M,m,_)},measureViewportBox:function(){return o(P,m)},addValue:function(M,_){U.hasValue(M)&&U.removeValue(M),R.set(M,_),A[M]=_.get(),H(M,_)},removeValue:function(M){var _;R.delete(M),(_=j.get(M))===null||_===void 0||_(),j.delete(M),delete A[M],c(M,L)},hasValue:function(M){return R.has(M)},getValue:function(M,_){var Z=R.get(M);return Z===void 0&&_!==void 0&&(Z=ot(_),U.addValue(M,Z)),Z},forEachValue:function(M){return R.forEach(M)},readValue:function(M){var _;return(_=A[M])!==null&&_!==void 0?_:l(P,M,h)},setBaseTarget:function(M,_){z[M]=_},getBaseTarget:function(M){if(r){var _=r(m,M);if(_!==void 0&&!Me(_))return _}return z[M]}},V),{build:function(){return G(),L},scheduleRender:function(){we.render(K,!1,!0)},syncRender:K,setProps:function(M){(M.transformTemplate||m.transformTemplate)&&U.scheduleRender(),m=M,V.updatePropListeners(M),W=Uh(U,d(m),W)},getProps:function(){return m},getVariant:function(M){var _;return(_=m.variants)===null||_===void 0?void 0:_[M]},getDefaultTransition:function(){return m.transition},getTransformPagePoint:function(){return m.transformPagePoint},getVariantContext:function(M){if(M===void 0&&(M=!1),M)return p==null?void 0:p.getVariantContext();if(!he){var _=(p==null?void 0:p.getVariantContext())||{};return m.initial!==void 0&&(_.initial=m.initial),_}for(var Z={},Ne=0;Ne<zh;Ne++){var We=fa[Ne],Ye=m[We];(de(Ye)||Ye===!1)&&(Z[We]=Ye)}return Z}});return U}},fa=be(["initial"],q(Ui),!1),zh=fa.length;function di(t){return typeof t=="string"&&t.startsWith("var(--")}var ha=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Hh(t){var e=ha.exec(t);if(!e)return[,];var n=q(e,3),i=n[1],r=n[2];return[i,r]}function fi(t,e,n){var i=q(Hh(t),2),r=i[0],s=i[1];if(r){var o=window.getComputedStyle(e).getPropertyValue(r);return o?o.trim():di(s)?fi(s,e):s}}function Bh(t,e,n){var i,r=le(e,[]),s=t.getInstance();if(!(s instanceof Element))return{target:r,transitionEnd:n};n&&(n=E({},n)),t.forEachValue(function(c){var u=c.get();if(di(u)){var d=fi(u,s);d&&c.set(d)}});for(var o in r){var a=r[o];if(di(a)){var l=fi(a,s);l&&(r[o]=l,n&&((i=n[o])!==null&&i!==void 0||(n[o]=a)))}}return{target:r,transitionEnd:n}}var Gh=new Set(["width","height","top","left","right","bottom","x","y"]),pa=function(t){return Gh.has(t)},$h=function(t){return Object.keys(t).some(pa)},ma=function(t,e){t.set(e,!1),t.set(e)},es=function(t){return t===Ke||t===I},ts;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(ts||(ts={}));var ns=function(t,e){return parseFloat(t.split(", ")[e])},is=function(t,e){return function(n,i){var r=i.transform;if(r==="none"||!r)return 0;var s=r.match(/^matrix3d\((.+)\)$/);if(s)return ns(s[1],e);var o=r.match(/^matrix\((.+)\)$/);return o?ns(o[1],t):0}},Kh=new Set(["x","y","z"]),Wh=Mt.filter(function(t){return!Kh.has(t)});function Yh(t){var e=[];return Wh.forEach(function(n){var i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e.length&&t.syncRender(),e}var rs={width:function(t,e){var n=t.x,i=e.paddingLeft,r=i===void 0?"0":i,s=e.paddingRight,o=s===void 0?"0":s;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:function(t,e){var n=t.y,i=e.paddingTop,r=i===void 0?"0":i,s=e.paddingBottom,o=s===void 0?"0":s;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,i=e.top;return parseFloat(i)+(n.max-n.min)},right:function(t,e){var n=t.x,i=e.left;return parseFloat(i)+(n.max-n.min)},x:is(4,13),y:is(5,14)},Xh=function(t,e,n){var i=e.measureViewportBox(),r=e.getInstance(),s=getComputedStyle(r),o=s.display,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(function(c){a[c]=rs[c](i,s)}),e.syncRender();var l=e.measureViewportBox();return n.forEach(function(c){var u=e.getValue(c);ma(u,a[c]),t[c]=rs[c](l,s)}),t},qh=function(t,e,n,i){n===void 0&&(n={}),i===void 0&&(i={}),e=E({},e),i=E({},i);var r=Object.keys(e).filter(pa),s=[],o=!1,a=[];if(r.forEach(function(u){var d=t.getValue(u);if(t.hasValue(u)){var f=n[u],h=ft(f),p=e[u],m;if(Lt(p)){var v=p.length,g=p[0]===null?1:0;f=p[g],h=ft(f);for(var x=g;x<v;x++)m?tn(ft(p[x])===m):m=ft(p[x])}else m=ft(p);if(h!==m)if(es(h)&&es(m)){var y=d.get();typeof y=="string"&&d.set(parseFloat(y)),typeof p=="string"?e[u]=parseFloat(p):Array.isArray(p)&&m===I&&(e[u]=p.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(f===0||p===0)?f===0?d.set(m.transform(f)):e[u]=h.transform(p):(o||(s=Yh(t),o=!0),a.push(u),i[u]=i[u]!==void 0?i[u]:e[u],ma(d,p))}}),a.length){var l=a.indexOf("height")>=0?window.pageYOffset:null,c=Xh(e,t,a);return s.length&&s.forEach(function(u){var d=q(u,2),f=d[0],h=d[1];t.getValue(f).set(h)}),t.syncRender(),l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:i}}else return{target:e,transitionEnd:i}};function Zh(t,e,n,i){return $h(e)?qh(t,e,n,i):{target:e,transitionEnd:i}}var Jh=function(t,e,n,i){var r=Bh(t,e,i);return e=r.target,i=r.transitionEnd,Zh(t,e,n,i)};function Qh(t){return window.getComputedStyle(t)}var ga={treeType:"dom",readValueFromInstance:function(t,e){if(Dt(e)){var n=Di(e);return n&&n.default||0}else{var i=Qh(t);return(so(e)?i.getPropertyValue(e):i[e])||0}},sortNodePosition:function(t,e){return t.compareDocumentPosition(e)&2?1:-1},getBaseTarget:function(t,e){var n;return(n=t.style)===null||n===void 0?void 0:n[e]},measureViewportBox:function(t,e){var n=e.transformPagePoint;return ua(t,n)},resetTransform:function(t,e,n){var i=n.transformTemplate;e.style.transform=i?i({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var n=e.vars,i=e.style;delete n[t],delete i[t]},makeTargetAnimatable:function(t,e,n,i){var r=n.transformValues;i===void 0&&(i=!0);var s=e.transition,o=e.transitionEnd,a=le(e,["transition","transitionEnd"]),l=oh(a,s||{},t);if(r&&(o&&(o=r(o)),a&&(a=r(a)),l&&(l=r(l))),i){rh(t,a,l);var c=Jh(t,a,l,o);o=c.transitionEnd,a=c.target}return E({transition:s,transitionEnd:o},a)},scrapeMotionValuesFromProps:Ei,build:function(t,e,n,i,r){t.isVisible!==void 0&&(e.style.visibility=t.isVisible?"visible":"hidden"),Si(e,n,i,r.transformTemplate)},render:bo},ep=da(ga),tp=da(E(E({},ga),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var n;return Dt(e)?((n=Di(e))===null||n===void 0?void 0:n.default)||0:(e=xo.has(e)?e:yo(e),t.getAttribute(e))},scrapeMotionValuesFromProps:So,build:function(t,e,n,i,r){Ti(e,n,i,r.transformTemplate)},render:wo})),np=function(t,e){return xi(t)?tp(e,{enableHardwareAcceleration:!1}):ep(e,{enableHardwareAcceleration:!0})};function ss(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}var ht={correct:function(t,e){if(!e.target)return t;if(typeof t=="string")if(I.test(t))t=parseFloat(t);else return t;var n=ss(t,e.target.x),i=ss(t,e.target.y);return"".concat(n,"% ").concat(i,"%")}},os="_$css",ip={correct:function(t,e){var n=e.treeScale,i=e.projectionDelta,r=t,s=t.includes("var("),o=[];s&&(t=t.replace(ha,function(m){return o.push(m),os}));var a=Ce.parse(t);if(a.length>5)return r;var l=Ce.createTransformer(t),c=typeof a[0]!="number"?1:0,u=i.x.scale*n.x,d=i.y.scale*n.y;a[0+c]/=u,a[1+c]/=d;var f=X(u,d,.5);typeof a[2+c]=="number"&&(a[2+c]/=f),typeof a[3+c]=="number"&&(a[3+c]/=f);var h=l(a);if(s){var p=0;h=h.replace(os,function(){var m=o[p];return p++,m})}return h}},rp=function(t){Ws(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var n=this,i=this.props,r=i.visualElement,s=i.layoutGroup,o=i.switchLayoutGroup,a=i.layoutId,l=r.projection;Cu(op),l&&(s!=null&&s.group&&s.group.add(l),o!=null&&o.register&&a&&o.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){n.safeToRemove()}),l.setOptions(E(E({},l.options),{onExitComplete:function(){return n.safeToRemove()}}))),gt.hasEverUpdated=!0},e.prototype.getSnapshotBeforeUpdate=function(n){var i=this,r=this.props,s=r.layoutDependency,o=r.visualElement,a=r.drag,l=r.isPresent,c=o.projection;return c&&(c.isPresent=l,a||n.layoutDependency!==s||s===void 0?c.willUpdate():this.safeToRemove(),n.isPresent!==l&&(l?c.promote():c.relegate()||we.postRender(function(){var u;!((u=c.getStack())===null||u===void 0)&&u.members.length||i.safeToRemove()}))),null},e.prototype.componentDidUpdate=function(){var n=this.props.visualElement.projection;n&&(n.root.didUpdate(),!n.currentAnimation&&n.isLead()&&this.safeToRemove())},e.prototype.componentWillUnmount=function(){var n=this.props,i=n.visualElement,r=n.layoutGroup,s=n.switchLayoutGroup,o=i.projection;o&&(o.scheduleCheckAfterUnmount(),r!=null&&r.group&&r.group.remove(o),s!=null&&s.deregister&&s.deregister(o))},e.prototype.safeToRemove=function(){var n=this.props.safeToRemove;n==null||n()},e.prototype.render=function(){return null},e}(pi.Component);function sp(t){var e=q(ea(),2),n=e[0],i=e[1],r=S.useContext(to);return pi.createElement(rp,E({},t,{layoutGroup:r,switchLayoutGroup:S.useContext(no),isPresent:n,safeToRemove:i}))}var op={borderRadius:E(E({},ht),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomLeftRadius:ht,borderBottomRightRadius:ht,boxShadow:ip},ap={measureLayout:sp};function lp(t,e,n){n===void 0&&(n={});var i=Me(t)?t:ot(t);return Fi("",i,e,n),{stop:function(){return i.stop()},isAnimating:function(){return i.isAnimating()}}}var va=["TopLeft","TopRight","BottomLeft","BottomRight"],cp=va.length,as=function(t){return typeof t=="string"?parseFloat(t):t},ls=function(t){return typeof t=="number"||I.test(t)};function up(t,e,n,i,r,s){var o,a,l,c;r?(t.opacity=X(0,(o=n.opacity)!==null&&o!==void 0?o:1,dp(i)),t.opacityExit=X((a=e.opacity)!==null&&a!==void 0?a:1,0,fp(i))):s&&(t.opacity=X((l=e.opacity)!==null&&l!==void 0?l:1,(c=n.opacity)!==null&&c!==void 0?c:1,i));for(var u=0;u<cp;u++){var d="border".concat(va[u],"Radius"),f=cs(e,d),h=cs(n,d);if(!(f===void 0&&h===void 0)){f||(f=0),h||(h=0);var p=f===0||h===0||ls(f)===ls(h);p?(t[d]=Math.max(X(as(f),as(h),i),0),(xe.test(h)||xe.test(f))&&(t[d]+="%")):t[d]=h}}(e.rotate||n.rotate)&&(t.rotate=X(e.rotate||0,n.rotate||0,i))}function cs(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t.borderRadius}var dp=ya(0,.5,Ii),fp=ya(.5,.95,_i);function ya(t,e,n){return function(i){return i<t?0:i>e?1:n(Pt(t,e,i))}}function us(t,e){t.min=e.min,t.max=e.max}function ue(t,e){us(t.x,e.x),us(t.y,e.y)}function ds(t,e,n,i,r){return t-=e,t=dn(t,1/n,i),r!==void 0&&(t=dn(t,1/r,i)),t}function hp(t,e,n,i,r,s,o){if(e===void 0&&(e=0),n===void 0&&(n=1),i===void 0&&(i=.5),s===void 0&&(s=t),o===void 0&&(o=t),xe.test(e)){e=parseFloat(e);var a=X(o.min,o.max,e/100);e=a-o.min}if(typeof e=="number"){var l=X(s.min,s.max,i);t===s&&(l-=e),t.min=ds(t.min,e,n,l,r),t.max=ds(t.max,e,n,l,r)}}function fs(t,e,n,i,r){var s=q(n,3),o=s[0],a=s[1],l=s[2];hp(t,e[o],e[a],e[l],e.scale,i,r)}var pp=["x","scaleX","originX"],mp=["y","scaleY","originY"];function hs(t,e,n,i){fs(t.x,e,pp,n==null?void 0:n.x,i==null?void 0:i.x),fs(t.y,e,mp,n==null?void 0:n.y,i==null?void 0:i.y)}function ps(t){return t.translate===0&&t.scale===1}function ba(t){return ps(t.x)&&ps(t.y)}function xa(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}var gp=function(){function t(){this.members=[]}return t.prototype.add=function(e){Ni(this.members,e),e.scheduleRender()},t.prototype.remove=function(e){if(ji(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var n=this.members[this.members.length-1];n&&this.promote(n)}},t.prototype.relegate=function(e){var n=this.members.findIndex(function(o){return e===o});if(n===0)return!1;for(var i,r=n;r>=0;r--){var s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1},t.prototype.promote=function(e,n){var i,r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),!((i=e.root)===null||i===void 0)&&i.isUpdating&&(e.isLayoutDirty=!0);var s=e.options.crossfade;s===!1&&r.hide()}},t.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var n,i,r,s,o;(i=(n=e.options).onExitComplete)===null||i===void 0||i.call(n),(o=(r=e.resumingFrom)===null||r===void 0?void 0:(s=r.options).onExitComplete)===null||o===void 0||o.call(s)})},t.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},t.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},t}(),vp="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function ms(t,e,n){var i=t.x.translate/e.x,r=t.y.translate/e.y,s="translate3d(".concat(i,"px, ").concat(r,"px, 0) ");if(s+="scale(".concat(1/e.x,", ").concat(1/e.y,") "),n){var o=n.rotate,a=n.rotateX,l=n.rotateY;o&&(s+="rotate(".concat(o,"deg) ")),a&&(s+="rotateX(".concat(a,"deg) ")),l&&(s+="rotateY(".concat(l,"deg) "))}var c=t.x.scale*e.x,u=t.y.scale*e.y;return s+="scale(".concat(c,", ").concat(u,")"),s===vp?"none":s}var yp=function(t,e){return t.depth-e.depth},bp=function(){function t(){this.children=[],this.isDirty=!1}return t.prototype.add=function(e){Ni(this.children,e),this.isDirty=!0},t.prototype.remove=function(e){ji(this.children,e),this.isDirty=!0},t.prototype.forEach=function(e){this.isDirty&&this.children.sort(yp),this.isDirty=!1,this.children.forEach(e)},t}(),gs=1e3;function wa(t){var e=t.attachResizeListener,n=t.defaultParent,i=t.measureScroll,r=t.checkIsScrollRoot,s=t.resetTransform;return function(){function o(a,l,c){var u=this;l===void 0&&(l={}),c===void 0&&(c=n==null?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){u.isUpdating&&(u.isUpdating=!1,u.clearAllSnapshots())},this.updateProjection=function(){u.nodes.forEach(Ep),u.nodes.forEach(Mp)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=a,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?be(be([],q(c.path),!1),[c],!1):[],this.parent=c,this.depth=c?c.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(var d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new bp)}return o.prototype.addEventListener=function(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new bt),this.eventHandlers.get(a).add(l)},o.prototype.notifyListeners=function(a){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];var u=this.eventHandlers.get(a);u==null||u.notify.apply(u,be([],q(l),!1))},o.prototype.hasListeners=function(a){return this.eventHandlers.has(a)},o.prototype.registerPotentialNode=function(a,l){this.potentialNodes.set(a,l)},o.prototype.mount=function(a,l){var c=this,u;if(l===void 0&&(l=!1),!this.instance){this.isSVG=a instanceof SVGElement&&a.tagName!=="svg",this.instance=a;var d=this.options,f=d.layoutId,h=d.layout,p=d.visualElement;if(p&&!p.getInstance()&&p.mount(a),this.root.nodes.add(this),(u=this.parent)===null||u===void 0||u.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),l&&(h||f)&&(this.isLayoutDirty=!0),e){var m,v=function(){return c.root.updateBlockedByResize=!1};e(a,function(){c.root.updateBlockedByResize=!0,clearTimeout(m),m=window.setTimeout(v,250),gt.hasAnimatedSinceResize&&(gt.hasAnimatedSinceResize=!1,c.nodes.forEach(Tp))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||h)&&this.addEventListener("didUpdate",function(g){var x,y,T,A,L,P=g.delta,V=g.hasLayoutChanged,R=g.hasRelativeTargetChanged,j=g.layout;if(c.isTreeAnimationBlocked()){c.target=void 0,c.relativeTarget=void 0;return}var W=(y=(x=c.options.transition)!==null&&x!==void 0?x:p.getDefaultTransition())!==null&&y!==void 0?y:Rp,z=p.getProps(),N=z.onLayoutAnimationStart,K=z.onLayoutAnimationComplete,G=!c.targetLayout||!xa(c.targetLayout,j)||R,k=!V&&R;if(!((T=c.resumeFrom)===null||T===void 0)&&T.instance||k||V&&(G||!c.currentAnimation)){c.resumeFrom&&(c.resumingFrom=c.resumeFrom,c.resumingFrom.resumingFrom=void 0),c.setAnimationOrigin(P,k);var H=E(E({},ki(W,"layout")),{onPlay:N,onComplete:K});p.shouldReduceMotion&&(H.delay=0,H.type=!1),c.startAnimation(H)}else!V&&c.animationProgress===0&&c.finishAnimation(),c.isLead()&&((L=(A=c.options).onExitComplete)===null||L===void 0||L.call(A));c.targetLayout=j})}},o.prototype.unmount=function(){var a,l;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(a=this.getStack())===null||a===void 0||a.remove(this),(l=this.parent)===null||l===void 0||l.children.delete(this),this.instance=void 0,st.preRender(this.updateProjection)},o.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},o.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},o.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},o.prototype.isTreeAnimationBlocked=function(){var a;return this.isAnimationBlocked||((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimationBlocked())||!1},o.prototype.startUpdate=function(){var a;this.isUpdateBlocked()||(this.isUpdating=!0,(a=this.nodes)===null||a===void 0||a.forEach(Cp))},o.prototype.willUpdate=function(a){var l,c,u;if(a===void 0&&(a=!0),this.root.isUpdateBlocked()){(c=(l=this.options).onExitComplete)===null||c===void 0||c.call(l);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var d=0;d<this.path.length;d++){var f=this.path[d];f.shouldResetTransform=!0,f.updateScroll()}var h=this.options,p=h.layoutId,m=h.layout;if(!(p===void 0&&!m)){var v=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;this.prevTransformTemplateValue=v==null?void 0:v(this.latestValues,""),this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}}},o.prototype.didUpdate=function(){var a=this.isUpdateBlocked();if(a){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vs);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Ip),this.potentialNodes.clear()),this.nodes.forEach(Ap),this.nodes.forEach(xp),this.nodes.forEach(wp),this.clearAllSnapshots(),Vn.update(),Vn.preRender(),Vn.render())},o.prototype.clearAllSnapshots=function(){this.nodes.forEach(Sp),this.sharedNodes.forEach(Lp)},o.prototype.scheduleUpdateProjection=function(){we.preRender(this.updateProjection,!1,!0)},o.prototype.scheduleCheckAfterUnmount=function(){var a=this;we.postRender(function(){a.isLayoutDirty?a.root.didUpdate():a.root.checkUpdateFailed()})},o.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var a=this.measure(),l=this.removeTransform(this.removeElementScroll(a));ws(l),this.snapshot={measured:a,layout:l,latestValues:{}}}},o.prototype.updateLayout=function(){var a;if(this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var l=0;l<this.path.length;l++){var c=this.path[l];c.updateScroll()}var u=this.measure();ws(u);var d=this.layout;this.layout={measured:u,actual:this.removeElementScroll(u)},this.layoutCorrected=re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(a=this.options.visualElement)===null||a===void 0||a.notifyLayoutMeasure(this.layout.actual,d==null?void 0:d.actual)}},o.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=r(this.instance),this.scroll=i(this.instance))},o.prototype.resetTransform=function(){var a;if(s){var l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!ba(this.projectionDelta),u=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate,d=u==null?void 0:u(this.latestValues,""),f=d!==this.prevTransformTemplateValue;l&&(c||De(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}},o.prototype.measure=function(){var a=this.options.visualElement;if(!a)return re();var l=a.measureViewportBox(),c=this.root.scroll;return c&&(Ve(l.x,c.x),Ve(l.y,c.y)),l},o.prototype.removeElementScroll=function(a){var l=re();ue(l,a);for(var c=0;c<this.path.length;c++){var u=this.path[c],d=u.scroll,f=u.options,h=u.isScrollRoot;if(u!==this.root&&d&&f.layoutScroll){if(h){ue(l,a);var p=this.root.scroll;p&&(Ve(l.x,-p.x),Ve(l.y,-p.y))}Ve(l.x,d.x),Ve(l.y,d.y)}}return l},o.prototype.applyTransform=function(a,l){l===void 0&&(l=!1);var c=re();ue(c,a);for(var u=0;u<this.path.length;u++){var d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&tt(c,{x:-d.scroll.x,y:-d.scroll.y}),De(d.latestValues)&&tt(c,d.latestValues)}return De(this.latestValues)&&tt(c,this.latestValues),c},o.prototype.removeTransform=function(a){var l,c=re();ue(c,a);for(var u=0;u<this.path.length;u++){var d=this.path[u];if(d.instance&&De(d.latestValues)){la(d.latestValues)&&d.updateSnapshot();var f=re(),h=d.measure();ue(f,h),hs(c,d.latestValues,(l=d.snapshot)===null||l===void 0?void 0:l.layout,f)}}return De(this.latestValues)&&hs(c,this.latestValues),c},o.prototype.setTargetDelta=function(a){this.targetDelta=a,this.root.scheduleUpdateProjection()},o.prototype.setOptions=function(a){var l;this.options=E(E(E({},this.options),a),{crossfade:(l=a.crossfade)!==null&&l!==void 0?l:!0})},o.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},o.prototype.resolveTargetDelta=function(){var a,l=this.options,c=l.layout,u=l.layoutId;!this.layout||!(c||u)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=re(),this.relativeTargetOrigin=re(),wt(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),ue(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=re(),this.targetWithTransforms=re()),this.relativeTarget&&this.relativeTargetOrigin&&(!((a=this.relativeParent)===null||a===void 0)&&a.target)?xh(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):ue(this.target,this.layout.actual),ca(this.target,this.targetDelta)):ue(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=re(),this.relativeTargetOrigin=re(),wt(this.relativeTargetOrigin,this.target,this.relativeParent.target),ue(this.relativeTarget,this.relativeTargetOrigin)))))},o.prototype.getClosestProjectingParent=function(){if(!(!this.parent||De(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},o.prototype.calcProjection=function(){var a,l=this.options,c=l.layout,u=l.layoutId;if(this.isTreeAnimating=!!(!((a=this.parent)===null||a===void 0)&&a.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(c||u))){var d=this.getLead();ue(this.layoutCorrected,this.layout.actual),Ph(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==d);var f=d.target;if(f){this.projectionDelta||(this.projectionDelta=St(),this.projectionDeltaWithTransform=St());var h=this.treeScale.x,p=this.treeScale.y,m=this.projectionTransform;xt(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=ms(this.projectionDelta,this.treeScale),(this.projectionTransform!==m||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}}},o.prototype.hide=function(){this.isVisible=!1},o.prototype.show=function(){this.isVisible=!0},o.prototype.scheduleRender=function(a){var l,c,u;a===void 0&&(a=!0),(c=(l=this.options).scheduleRender)===null||c===void 0||c.call(l),a&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},o.prototype.setAnimationOrigin=function(a,l){var c=this,u;l===void 0&&(l=!1);var d=this.snapshot,f=(d==null?void 0:d.latestValues)||{},h=E({},this.latestValues),p=St();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!l;var m=re(),v=d==null?void 0:d.isShared,g=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,x=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(_p));this.animationProgress=0,this.mixTargetDelta=function(y){var T,A=y/1e3;ys(p.x,a.x,A),ys(p.y,a.y,A),c.setTargetDelta(p),c.relativeTarget&&c.relativeTargetOrigin&&c.layout&&(!((T=c.relativeParent)===null||T===void 0)&&T.layout)&&(wt(m,c.layout.actual,c.relativeParent.layout.actual),Pp(c.relativeTarget,c.relativeTargetOrigin,m,A)),v&&(c.animationValues=h,up(h,f,c.latestValues,A,x,g)),c.root.scheduleUpdateProjection(),c.scheduleRender(),c.animationProgress=A},this.mixTargetDelta(0)},o.prototype.startAnimation=function(a){var l=this,c,u;this.notifyListeners("animationStart"),(c=this.currentAnimation)===null||c===void 0||c.stop(),this.resumingFrom&&((u=this.resumingFrom.currentAnimation)===null||u===void 0||u.stop()),this.pendingAnimation&&(st.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(function(){gt.hasAnimatedSinceResize=!0,l.currentAnimation=lp(0,gs,E(E({},a),{onUpdate:function(d){var f;l.mixTargetDelta(d),(f=a.onUpdate)===null||f===void 0||f.call(a,d)},onComplete:function(){var d;(d=a.onComplete)===null||d===void 0||d.call(a),l.completeAnimation()}})),l.resumingFrom&&(l.resumingFrom.currentAnimation=l.currentAnimation),l.pendingAnimation=void 0})},o.prototype.completeAnimation=function(){var a;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(a=this.getStack())===null||a===void 0||a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},o.prototype.finishAnimation=function(){var a;this.currentAnimation&&((a=this.mixTargetDelta)===null||a===void 0||a.call(this,gs),this.currentAnimation.stop()),this.completeAnimation()},o.prototype.applyTransformsToTarget=function(){var a=this.getLead(),l=a.targetWithTransforms,c=a.target,u=a.layout,d=a.latestValues;!l||!c||!u||(ue(l,c),tt(l,d),xt(this.projectionDeltaWithTransform,this.layoutCorrected,l,d))},o.prototype.registerSharedNode=function(a,l){var c,u,d;this.sharedNodes.has(a)||this.sharedNodes.set(a,new gp);var f=this.sharedNodes.get(a);f.add(l),l.promote({transition:(c=l.options.initialPromotionConfig)===null||c===void 0?void 0:c.transition,preserveFollowOpacity:(d=(u=l.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||d===void 0?void 0:d.call(u,l)})},o.prototype.isLead=function(){var a=this.getStack();return a?a.lead===this:!0},o.prototype.getLead=function(){var a,l=this.options.layoutId;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this},o.prototype.getPrevLead=function(){var a,l=this.options.layoutId;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0},o.prototype.getStack=function(){var a=this.options.layoutId;if(a)return this.root.sharedNodes.get(a)},o.prototype.promote=function(a){var l=a===void 0?{}:a,c=l.needsReset,u=l.transition,d=l.preserveFollowOpacity,f=this.getStack();f&&f.promote(this,d),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})},o.prototype.relegate=function(){var a=this.getStack();return a?a.relegate(this):!1},o.prototype.resetRotation=function(){var a=this.options.visualElement;if(a){for(var l=!1,c={},u=0;u<Zn.length;u++){var d=Zn[u],f="rotate"+d;a.getStaticValue(f)&&(l=!0,c[f]=a.getStaticValue(f),a.setStaticValue(f,0))}if(l){a==null||a.syncRender();for(var f in c)a.setStaticValue(f,c[f]);a.scheduleRender()}}},o.prototype.getProjectionStyles=function(a){var l,c,u,d,f,h;a===void 0&&(a={});var p={};if(!this.instance||this.isSVG)return p;if(this.isVisible)p.visibility="";else return{visibility:"hidden"};var m=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Yt(a.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;var v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){var g={};return this.options.layoutId&&(g.opacity=(c=this.latestValues.opacity)!==null&&c!==void 0?c:1,g.pointerEvents=Yt(a.pointerEvents)||""),this.hasProjected&&!De(this.latestValues)&&(g.transform=m?m({},""):"none",this.hasProjected=!1),g}var x=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=ms(this.projectionDeltaWithTransform,this.treeScale,x),m&&(p.transform=m(x,p.transform));var y=this.projectionDelta,T=y.x,A=y.y;p.transformOrigin="".concat(T.origin*100,"% ").concat(A.origin*100,"% 0"),v.animationValues?p.opacity=v===this?(d=(u=x.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=v===this?(f=x.opacity)!==null&&f!==void 0?f:"":(h=x.opacityExit)!==null&&h!==void 0?h:0;for(var L in nn)if(x[L]!==void 0){var P=nn[L],V=P.correct,R=P.applyTo,j=V(x[L],v);if(R)for(var W=R.length,z=0;z<W;z++)p[R[z]]=j;else p[L]=j}return this.options.layoutId&&(p.pointerEvents=v===this?Yt(a.pointerEvents)||"":"none"),p},o.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},o.prototype.resetTree=function(){this.root.nodes.forEach(function(a){var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(vs),this.root.sharedNodes.clear()},o}()}function xp(t){t.updateLayout()}function wp(t){var e,n,i,r,s=(n=(e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)!==null&&n!==void 0?n:t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){var o=t.layout,a=o.actual,l=o.measured;t.options.animationType==="size"?me(function(x){var y=s.isShared?s.measured[x]:s.layout[x],T=Le(y);y.min=a[x].min,y.max=y.min+T}):t.options.animationType==="position"&&me(function(x){var y=s.isShared?s.measured[x]:s.layout[x],T=Le(a[x]);y.max=y.min+T});var c=St();xt(c,a,s.layout);var u=St();s.isShared?xt(u,t.applyTransform(l,!0),s.measured):xt(u,a,s.layout);var d=!ba(c),f=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){var h=t.relativeParent,p=h.snapshot,m=h.layout;if(p&&m){var v=re();wt(v,s.layout,p.layout);var g=re();wt(g,a,m.actual),xa(v,g)||(f=!0)}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:u,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else t.isLead()&&((r=(i=t.options).onExitComplete)===null||r===void 0||r.call(i));t.options.transition=void 0}function Sp(t){t.clearSnapshot()}function vs(t){t.clearMeasurements()}function Ap(t){var e=t.options.visualElement;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function Tp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Ep(t){t.resolveTargetDelta()}function Mp(t){t.calcProjection()}function Cp(t){t.resetRotation()}function Lp(t){t.removeLeadSnapshot()}function ys(t,e,n){t.translate=X(e.translate,0,n),t.scale=X(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bs(t,e,n,i){t.min=X(e.min,n.min,i),t.max=X(e.max,n.max,i)}function Pp(t,e,n,i){bs(t.x,e.x,n.x,i),bs(t.y,e.y,n.y,i)}function _p(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}var Rp={duration:.45,ease:[.4,0,.1,1]};function Ip(t,e){for(var n=t.root,i=t.path.length-1;i>=0;i--)if(t.path[i].instance){n=t.path[i];break}var r=n&&n!==t.root?n.instance:document,s=r.querySelector('[data-projection-id="'.concat(e,'"]'));s&&t.mount(s,!0)}function xs(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function ws(t){xs(t.x),xs(t.y)}var Op=wa({attachResizeListener:function(t,e){return yn(t,"resize",e)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),zn={current:void 0},Dp=wa({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!zn.current){var t=new Op(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),zn.current=t}return zn.current},resetTransform:function(t,e){t.style.transform=e??"none"},checkIsScrollRoot:function(t){return window.getComputedStyle(t).position==="fixed"}}),Vp=E(E(E(E({},vh),Df),Nh),ap),Sn=Eu(function(t,e){return dd(t,e,Vp,np,Dp)});const Wt="Click anywhere to begin",kp=()=>{const[t,e]=S.useState(""),[n,i]=S.useState(!0),r=S.useRef(n),s=(o,a)=>{o<Wt.length&&r.current&&setTimeout(()=>{window.postMessage({type:"keydown",key:`_AUTO_${Wt[o]}`},"*"),e(a+Wt[o]),s(o+1,a+Wt[o])},Math.random()*120+50)};return S.useEffect(()=>{setTimeout(()=>{s(0,"")},500),document.addEventListener("mousedown",()=>{i(!1)}),ee.on("enterMonitor",()=>{i(!1)})},[]),S.useEffect(()=>{n==!1&&window.postMessage({type:"keydown",key:"_AUTO_"},"*"),r.current=n},[n]),t.length>0?Y(Sn.div,{variants:Fp,animate:n?"visible":"hide",style:Ss.container,children:[C("p",{children:t}),C("div",{style:Ss.blinkingContainer,children:C("div",{className:"blinking-cursor"})})]}):C(en,{})},Fp={visible:{opacity:1},hide:{y:12,opacity:0,transition:{duration:.5,ease:"easeOut"}}},Ss={container:{position:"absolute",bottom:64,background:"black",padding:4,paddingLeft:16,paddingRight:16,textAlign:"center",display:"flex",alignItems:"flex-end"},blinkingContainer:{marginLeft:8,paddingBottom:2,paddingRight:4}},Sa={sHard:[.95,0,.5,1],sMedium:[.8,0,.2,1],sSoft:[.6,0,.4,1],expIn:[.9,.05,1,.3],expOut:[.05,.7,.1,1],expInOut:[.9,.05,.1,1]},Np="./assets/camera-38436449.svg",jp="./assets/mouse-60ee7bd9.svg",Up=({})=>{const[t,e]=S.useState(!1),[n,i]=S.useState(!1),[r,s]=S.useState(!1),[o,a]=S.useState(!0),l=S.useCallback(d=>{i(!0),d.preventDefault(),s(!r)},[r]),c=r?window.innerWidth<768?8:10:window.innerWidth<768?4:6,u=S.useCallback(()=>{i(!1)},[]);return S.useEffect(()=>{setTimeout(()=>{a(!1)},100)},[]),S.useEffect(()=>{o||(window.postMessage({type:"keydown",key:"_AUTO_"},"*"),ee.dispatch("freeCamToggle",r))},[r]),C("div",{style:As.wrapper,children:C("div",{onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),style:As.container,onMouseDown:l,onMouseUp:u,className:"icon-control-container",id:"prevent-click",children:C(Sn.img,{id:"prevent-click",src:r?jp:Np,style:{opacity:n?.2:t?.8:1},height:c,animate:n?"active":t?"hovering":"default",variants:zp})})})},zp={hovering:{opacity:.8,transition:{duration:.1,ease:"easeOut"}},active:{scale:.8,opacity:.5,transition:{duration:.1,ease:Sa.expOut}},default:{scale:1,opacity:1,transition:{duration:.2,ease:"easeOut"}}},As={container:{background:"black",paddingLeft:8,paddingRight:8,textAlign:"center",display:"flex",boxSizing:"border-box",justifyContent:"center",alignItems:"center",cursor:"pointer"},wrapper:{display:"flex",flexDirection:"row",justifyContent:"center"}},Hp="./assets/volume_on-c011562a.svg",Bp="./assets/volume_off-bb22b028.svg",Gp=({})=>{const[t,e]=S.useState(!1),[n,i]=S.useState(!1),[r,s]=S.useState(!1),o=S.useCallback(l=>{i(!0),l.preventDefault(),s(!r)},[r]),a=S.useCallback(()=>{i(!1)},[]);return S.useEffect(()=>{ee.dispatch("muteToggle",r)},[r]),C("div",{onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),style:Kp.container,onMouseDown:o,onMouseUp:a,className:"icon-control-container",id:"prevent-click",children:C(Sn.img,{id:"prevent-click",src:r?Bp:Hp,style:{opacity:n?.2:t?.8:1},width:window.innerWidth<768?8:10,animate:n?"active":t?"hovering":"default",variants:$p})})},$p={hovering:{opacity:.8,transition:{duration:.1,ease:"easeOut"}},active:{scale:.8,opacity:.5,transition:{duration:.1,ease:Sa.expOut}},default:{scale:1,opacity:1,transition:{duration:.2,ease:"easeOut"}}},Kp={container:{background:"black",textAlign:"center",display:"flex",boxSizing:"border-box",justifyContent:"center",alignItems:"center",cursor:"pointer"}},Wp="Jennifer Amaya",Yp="Creative Technologist",Xp=1,qp=({visible:t})=>{const e=S.useRef(t),[n,i]=S.useState(""),[r,s]=S.useState(""),[o,a]=S.useState(new Date().toLocaleTimeString()),l=S.useRef(o),[c,u]=S.useState(""),[d,f]=S.useState(!1),[h,p]=S.useState(!1),[m,v]=S.useState(!1),g=(x,y,T,A,L,P)=>{P&&(T=P.current),x<T.length?setTimeout(()=>{e.current===!0&&window.postMessage({type:"keydown",key:`_AUTO_${T[x]}`},"*"),A(y+T[x]),g(x+1,y+T[x],T,A,L,P)},Math.random()*50+50*Xp):L()};return S.useEffect(()=>{t&&n==""&&setTimeout(()=>{g(0,"",Wp,i,()=>{g(0,"",Yp,s,()=>{g(0,"",o,u,()=>{f(!0)},l)})})},400),e.current=t},[t]),S.useEffect(()=>{d&&setTimeout(()=>{p(!0),setTimeout(()=>{v(!0)},250)},250)},[d]),S.useEffect(()=>{window.postMessage({type:"keydown",key:"_AUTO_"},"*")},[m,h]),S.useEffect(()=>{const x=setInterval(()=>{a(new Date().toLocaleTimeString())},1e3);return()=>clearInterval(x)},[]),S.useEffect(()=>{l.current=o,d&&u(o)},[o]),Y("div",{style:Ie.wrapper,children:[n!==""&&C("div",{style:Ie.container,children:C("p",{children:n})}),r!==""&&C("div",{style:Ie.container,children:C("p",{children:r})}),c!==""&&Y("div",{style:Ie.lastRow,children:[C("div",{style:Object.assign({},Ie.container,Ie.lastRowChild),children:C("p",{children:c})}),h&&C("div",{style:Ie.lastRowChild,children:C(Gp,{})}),m&&C("div",{style:Ie.lastRowChild,children:C(Up,{})})]})]})},Ie={container:{background:"black",padding:4,paddingLeft:16,paddingRight:16,textAlign:"center",display:"flex",marginBottom:4,boxSizing:"border-box"},wrapper:{position:"absolute",display:"flex",flexDirection:"column",width:"100%",alignItems:"flex-start",justifyContent:"flex-start"},blinkingContainer:{marginLeft:8,paddingBottom:2,paddingRight:4},lastRow:{display:"flex",flexDirection:"row"},lastRowChild:{marginRight:4}},Zp=({})=>{const[t,e]=S.useState(!0),[n,i]=S.useState(!1),[r,s]=S.useState(!0),o=S.useRef(null);S.useEffect(()=>{ee.on("loadingScreenDone",()=>{s(!1)});const l=document.getElementById("ui-interactive");l&&(o.current=l)},[]);const a=()=>{i(!0),e(!1)};return S.useEffect(()=>{if(!r&&t)return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[r,t]),S.useEffect(()=>{ee.on("enterMonitor",()=>{i(!1),e(!1),o.current&&(o.current.style.pointerEvents="none")}),ee.on("leftMonitor",()=>{i(!0),o.current&&(o.current.style.pointerEvents="auto")})},[]),r?C(en,{}):C(Sn.div,{initial:"hide",variants:Jp,animate:n?"visible":"hide",style:Qp.wrapper,className:"interface-wrapper",id:"prevent-click",children:C(qp,{visible:n})})},Jp={visible:{opacity:1,x:0,transition:{duration:.5,delay:.3,ease:"easeOut"}},hide:{x:-32,opacity:0,transition:{duration:.3,ease:"easeOut"}}},Qp={wrapper:{width:"100%",display:"flex",position:"absolute",boxSizing:"border-box"}};const em=()=>{const[t,e]=S.useState(!0);return S.useEffect(()=>{ee.on("loadingScreenDone",()=>{e(!1)})},[]),Y("div",{id:"ui-app",children:[!t&&C(kp,{}),C(iu,{})]})},tm=()=>{Ds.render(C(em,{}),document.getElementById("ui"))},nm=()=>{Ds.render(C(Zp,{}),document.getElementById("ui-interactive"))};class im{constructor(){tm(),nm()}}let Hn=null;class oe{constructor(){w(this,"debug");w(this,"sizes");w(this,"time");w(this,"scene");w(this,"cssScene");w(this,"overlayScene");w(this,"resources");w(this,"camera");w(this,"renderer");w(this,"world");w(this,"mouse");w(this,"loading");w(this,"ui");w(this,"stats");if(Hn)return Hn;Hn=this,this.debug=new Fl,this.sizes=new Nl,this.mouse=new lc,this.loading=new Jc,this.time=new Vs,this.scene=new Ln,this.cssScene=new Ln,this.overlayScene=new Ln,this.resources=new Yc(Xc),this.camera=new ec,this.renderer=new ac,this.camera.createControls(),this.world=new xc,this.ui=new im,new URLSearchParams(window.location.search).has("debug")&&(this.stats=new Zc,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),this.sizes.on("resize",()=>{this.resize()}),this.time.on("tick",()=>{this.update()})}resize(){this.camera.resize(),this.renderer.resize()}update(){this.stats&&this.stats.begin(),this.camera.update(),this.world.update(),this.renderer.update(),this.stats&&this.stats.end()}destroy(){this.sizes.off("resize"),this.time.off("tick"),this.scene.traverse(e=>{if(e instanceof ge){e.geometry.dispose();for(const n in e.material){const i=e.material[n];i&&typeof i.dispose=="function"&&i.dispose()}}}),this.renderer.instance.dispose(),this.debug.active&&this.debug.ui.destroy()}}new oe;
